{"ast":null,"code":"import { TRANSACTIONS_KEY } from 'lib/constants';\nexport var updateStorageWith = function updateStorageWith(transactions, usersAddress, chainId) {\n  var _sentTransactions$, _sentTransactions$$et, _sentTransactions$2, _sentTransactions$2$e;\n\n  var sentTransactions = transactions.filter(function (tx) {\n    return tx.sent && !tx.cancelled;\n  });\n  chainId = chainId || (sentTransactions === null || sentTransactions === void 0 ? void 0 : (_sentTransactions$ = sentTransactions[0]) === null || _sentTransactions$ === void 0 ? void 0 : (_sentTransactions$$et = _sentTransactions$.ethersTx) === null || _sentTransactions$$et === void 0 ? void 0 : _sentTransactions$$et.chainId);\n  usersAddress = usersAddress || (sentTransactions === null || sentTransactions === void 0 ? void 0 : (_sentTransactions$2 = sentTransactions[0]) === null || _sentTransactions$2 === void 0 ? void 0 : (_sentTransactions$2$e = _sentTransactions$2.ethersTx) === null || _sentTransactions$2$e === void 0 ? void 0 : _sentTransactions$2$e.from);\n\n  if (chainId && usersAddress) {\n    var txsData = JSON.stringify(sentTransactions);\n\n    try {\n      var storageKey = \"\".concat(chainId, \"-\").concat(usersAddress.toLowerCase(), \"-\").concat(TRANSACTIONS_KEY);\n      localStorage.setItem(storageKey, txsData);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/utils/updateStorageWith.js"],"names":["TRANSACTIONS_KEY","updateStorageWith","transactions","usersAddress","chainId","sentTransactions","filter","tx","sent","cancelled","ethersTx","from","txsData","JSON","stringify","storageKey","toLowerCase","localStorage","setItem","e","console","error"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,eAAjC;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAC/BC,YAD+B,EAE/BC,YAF+B,EAG/BC,OAH+B,EAI5B;AAAA;;AACH,MAAMC,gBAAgB,GAAGH,YAAY,CAACI,MAAb,CAAoB,UAAAC,EAAE,EAAI;AACjD,WAAOA,EAAE,CAACC,IAAH,IAAW,CAACD,EAAE,CAACE,SAAtB;AACD,GAFwB,CAAzB;AAIAL,EAAAA,OAAO,GAAGA,OAAO,KAAIC,gBAAJ,aAAIA,gBAAJ,6CAAIA,gBAAgB,CAAG,CAAH,CAApB,gFAAI,mBAAuBK,QAA3B,0DAAI,sBAAiCN,OAArC,CAAjB;AACAD,EAAAA,YAAY,GAAGA,YAAY,KAAIE,gBAAJ,aAAIA,gBAAJ,8CAAIA,gBAAgB,CAAG,CAAH,CAApB,iFAAI,oBAAuBK,QAA3B,0DAAI,sBAAiCC,IAArC,CAA3B;;AAEA,MAAIP,OAAO,IAAID,YAAf,EAA6B;AAC3B,QAAMS,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeT,gBAAf,CAAhB;;AAEA,QAAI;AACF,UAAMU,UAAU,aAAMX,OAAN,cAAiBD,YAAY,CAACa,WAAb,EAAjB,cAA+ChB,gBAA/C,CAAhB;AAEAiB,MAAAA,YAAY,CAACC,OAAb,CAAqBH,UAArB,EAAiCH,OAAjC;AACD,KAJD,CAIE,OAAOO,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACD;AACF;AACF,CAvBM","sourcesContent":["import { TRANSACTIONS_KEY } from 'lib/constants'\n\nexport const updateStorageWith = (\n  transactions,\n  usersAddress,\n  chainId\n) => {\n  const sentTransactions = transactions.filter(tx => {\n    return tx.sent && !tx.cancelled\n  })\n\n  chainId = chainId || sentTransactions?.[0]?.ethersTx?.chainId\n  usersAddress = usersAddress || sentTransactions?.[0]?.ethersTx?.from\n\n  if (chainId && usersAddress) {\n    const txsData = JSON.stringify(sentTransactions)\n  \n    try {\n      const storageKey = `${chainId}-${usersAddress.toLowerCase()}-${TRANSACTIONS_KEY}`\n  \n      localStorage.setItem(storageKey, txsData)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}