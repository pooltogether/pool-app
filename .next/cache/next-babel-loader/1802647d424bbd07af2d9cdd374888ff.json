{"ast":null,"code":"import { useQuery } from 'react-query';\nimport { MAINNET_POLLING_INTERVAL, QUERY_KEYS } from 'lib/constants';\nimport { getPoolDripsData } from 'lib/fetchers/getPoolDripsData';\nexport function usePoolDripsQuery(pauseQueries, chainId, pool, blockNumber = -1) {\n  var _pool$prizeStrategy;\n\n  const prizeStrategyAddress = pool === null || pool === void 0 ? void 0 : (_pool$prizeStrategy = pool.prizeStrategy) === null || _pool$prizeStrategy === void 0 ? void 0 : _pool$prizeStrategy.id;\n  const refetchInterval = !pauseQueries && blockNumber === -1 ? MAINNET_POLLING_INTERVAL : false;\n  return useQuery([QUERY_KEYS.poolDripsQuery, chainId, prizeStrategyAddress, blockNumber], async () => {\n    return getPoolDripsData(chainId, prizeStrategyAddress, blockNumber);\n  }, {\n    enabled: !pauseQueries && chainId && prizeStrategyAddress && blockNumber,\n    refetchInterval\n  });\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/hooks/usePoolDripsQuery.js"],"names":["useQuery","MAINNET_POLLING_INTERVAL","QUERY_KEYS","getPoolDripsData","usePoolDripsQuery","pauseQueries","chainId","pool","blockNumber","prizeStrategyAddress","prizeStrategy","id","refetchInterval","poolDripsQuery","enabled"],"mappings":"AAAA,SAASA,QAAT,QAAyB,aAAzB;AAEA,SACEC,wBADF,EAEEC,UAFF,QAGO,eAHP;AAIA,SAASC,gBAAT,QAAiC,+BAAjC;AAEA,OAAO,SAASC,iBAAT,CAA2BC,YAA3B,EAAyCC,OAAzC,EAAkDC,IAAlD,EAAwDC,WAAW,GAAG,CAAC,CAAvE,EAA0E;AAAA;;AAC/E,QAAMC,oBAAoB,GAAGF,IAAH,aAAGA,IAAH,8CAAGA,IAAI,CAAEG,aAAT,wDAAG,oBAAqBC,EAAlD;AAEA,QAAMC,eAAe,GAAG,CAACP,YAAD,IAAkBG,WAAW,KAAK,CAAC,CAAnC,GACtBP,wBADsB,GAEtB,KAFF;AAIA,SAAOD,QAAQ,CACb,CAACE,UAAU,CAACW,cAAZ,EAA4BP,OAA5B,EAAqCG,oBAArC,EAA2DD,WAA3D,CADa,EAEb,YAAY;AAAE,WAAOL,gBAAgB,CAACG,OAAD,EAAUG,oBAAV,EAAgCD,WAAhC,CAAvB;AAAqE,GAFtE,EAGb;AACEM,IAAAA,OAAO,EAAE,CAACT,YAAD,IAAiBC,OAAjB,IAA4BG,oBAA5B,IAAoDD,WAD/D;AAEEI,IAAAA;AAFF,GAHa,CAAf;AAQD","sourcesContent":["import { useQuery } from 'react-query'\n\nimport {\n  MAINNET_POLLING_INTERVAL,\n  QUERY_KEYS\n} from 'lib/constants'\nimport { getPoolDripsData } from 'lib/fetchers/getPoolDripsData'\n\nexport function usePoolDripsQuery(pauseQueries, chainId, pool, blockNumber = -1) {\n  const prizeStrategyAddress = pool?.prizeStrategy?.id\n\n  const refetchInterval = !pauseQueries && (blockNumber === -1) ?\n    MAINNET_POLLING_INTERVAL :\n    false\n\n  return useQuery(\n    [QUERY_KEYS.poolDripsQuery, chainId, prizeStrategyAddress, blockNumber],\n    async () => { return getPoolDripsData(chainId, prizeStrategyAddress, blockNumber) },\n    {\n      enabled: !pauseQueries && chainId && prizeStrategyAddress && blockNumber,\n      refetchInterval\n    }\n  )\n}\n"]},"metadata":{},"sourceType":"module"}