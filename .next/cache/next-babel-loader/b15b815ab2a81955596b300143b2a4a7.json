{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from 'react';\nimport classnames from 'classnames';\nimport { useRouter } from 'next/router';\nimport { AnimatePresence, motion, useViewportScroll } from 'framer-motion';\nimport { SUPPORTED_CHAIN_IDS } from 'lib/constants';\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider';\nimport { NavAccount } from 'lib/components/NavAccount';\nimport { DepositWizardContainer } from 'lib/components/DepositWizardContainer';\nimport { HeaderLogo } from 'lib/components/HeaderLogo';\nimport { NavMobile } from 'lib/components/NavMobile';\nimport { NetworkText } from 'lib/components/NetworkText';\nimport { ManageTicketsWizardContainer } from 'lib/components/ManageTicketsWizardContainer';\nimport { Meta } from 'lib/components/Meta';\nimport { Nav } from 'lib/components/Nav';\nimport { LanguagePicker } from 'lib/components/LanguagePicker';\nimport { Settings } from 'lib/components/Settings';\nimport { SignInFormContainer } from 'lib/components/SignInFormContainer';\nimport { WrongNetworkModal } from 'lib/components/WrongNetworkModal';\nimport { chainIdToNetworkName } from 'lib/utils/chainIdToNetworkName';\n\nvar onlyUnique = function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n};\n\nexport function Layout(props) {\n  _s();\n\n  var children = props.children;\n\n  var _useState = useState(),\n      yScrollPosition = _useState[0],\n      setYScrollPosition = _useState[1];\n\n  var _useViewportScroll = useViewportScroll(),\n      scrollY = _useViewportScroll.scrollY;\n\n  scrollY.onChange(function (y) {\n    setYScrollPosition(y);\n  });\n\n  var _useState2 = useState(false),\n      showTransactionsDialog = _useState2[0],\n      setShowTransactionsDialog = _useState2[1];\n\n  var openTransactions = function openTransactions(e) {\n    e.preventDefault();\n    setShowTransactionsDialog(true);\n  };\n\n  var closeTransactions = function closeTransactions(e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    setShowTransactionsDialog(false);\n  };\n\n  var router = useRouter();\n  var signIn = router.query.signIn;\n  var deposit = /deposit/.test(router.asPath);\n  var manage = /\\/account\\/pools\\/[A-Za-z-]*\\/manage-tickets/.test(router.asPath);\n\n  var _useContext = useContext(AuthControllerContext),\n      usersAddress = _useContext.usersAddress,\n      chainId = _useContext.chainId; // this is useful for showing a big banner at the top that catches\n  // people's attention\n\n\n  var showingBanner = false; // const showingBanner = chainId !== 1\n\n  var supportedNetworkNames = SUPPORTED_CHAIN_IDS.map(function (chainId) {\n    return chainIdToNetworkName(chainId);\n  });\n  supportedNetworkNames = supportedNetworkNames.filter(onlyUnique);\n  return __jsx(React.Fragment, null, __jsx(Meta, null), __jsx(AnimatePresence, null, signIn && __jsx(SignInFormContainer, null)), __jsx(AnimatePresence, null, deposit && __jsx(DepositWizardContainer, props)), __jsx(AnimatePresence, null, manage && __jsx(ManageTicketsWizardContainer, props)), __jsx(WrongNetworkModal, null), __jsx(\"div\", {\n    className: \"flex flex-col w-full\",\n    style: {\n      minHeight: '100vh'\n    }\n  }, __jsx(motion.div, {\n    className: classnames('header fixed w-full bg-body z-30 pt-1 pb-1 xs:pt-2 xs:pb-0 sm:py-0 mx-auto l-0 r-0', {\n      'showing-network-banner': showingBanner\n    })\n  }, __jsx(\"div\", {\n    className: \"flex justify-between items-center px-4 xs:px-12 sm:px-10 py-4 xs:pb-6 sm:pt-5 sm:pb-7 mx-auto\"\n  }, __jsx(HeaderLogo, null), __jsx(\"div\", {\n    className: classnames('flex items-center justify-end flex-row flex-wrap relative'),\n    style: {\n      lineHeight: 0\n    }\n  }, usersAddress && __jsx(React.Fragment, null, __jsx(NavAccount, {\n    openTransactions: openTransactions,\n    closeTransactions: closeTransactions,\n    showTransactionsDialog: showTransactionsDialog\n  })), usersAddress && chainId && chainId !== 1 && __jsx(React.Fragment, null, __jsx(NetworkText, {\n    openTransactions: openTransactions\n  })), __jsx(\"div\", {\n    className: \"w-full sm:hidden\"\n  }), __jsx(LanguagePicker, null), __jsx(Settings, null))), __jsx(motion.div, {\n    className: \"w-full\",\n    style: {\n      boxShadow: 'rgba(0, 0, 0, 0.025) 0px 0px 1px 1px, rgba(0, 0, 0, 0.1) 0px 1px 7px 1px',\n      height: 0,\n      maxWidth: '100vw'\n    },\n    animate: yScrollPosition > 1 ? 'enter' : 'exit',\n    variants: {\n      enter: {\n        opacity: 1,\n        transition: {\n          duration: 1\n        }\n      },\n      exit: {\n        opacity: 0\n      }\n    }\n  })), __jsx(\"div\", {\n    className: classnames('grid-wrapper', {\n      'showing-network-banner': showingBanner\n    })\n  }, __jsx(\"div\", {\n    className: classnames('sidebar hidden sm:block z-20', {\n      'showing-network-banner': showingBanner\n    })\n  }, __jsx(Nav, null)), __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(\"div\", {\n    className: \"pool-container w-full flex flex-grow relative z-10 h-full page px-4 xs:px-12 sm:px-10 pt-6 xs:pt-6 sm:pt-8\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-col flex-grow\"\n  }, __jsx(\"div\", {\n    className: \"relative flex flex-col flex-grow h-full z-10 text-white\",\n    style: {\n      flex: 1\n    }\n  }, __jsx(\"div\", {\n    className: \"my-0 text-inverse sm:pt-2 lg:pt-4\"\n  }, /*#__PURE__*/React.cloneElement(children, _objectSpread({}, props)))))))), __jsx(NavMobile, null)));\n}\n\n_s(Layout, \"2jaJdMKb6lw1tY1nUivcgA4SJ3o=\", false, function () {\n  return [useViewportScroll, useRouter];\n});\n\n_c = Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/Layout.jsx"],"names":["React","useContext","useState","classnames","useRouter","AnimatePresence","motion","useViewportScroll","SUPPORTED_CHAIN_IDS","AuthControllerContext","NavAccount","DepositWizardContainer","HeaderLogo","NavMobile","NetworkText","ManageTicketsWizardContainer","Meta","Nav","LanguagePicker","Settings","SignInFormContainer","WrongNetworkModal","chainIdToNetworkName","onlyUnique","value","index","self","indexOf","Layout","props","children","yScrollPosition","setYScrollPosition","scrollY","onChange","y","showTransactionsDialog","setShowTransactionsDialog","openTransactions","e","preventDefault","closeTransactions","router","signIn","query","deposit","test","asPath","manage","usersAddress","chainId","showingBanner","supportedNetworkNames","map","filter","minHeight","lineHeight","boxShadow","height","maxWidth","enter","opacity","transition","duration","exit","flex","cloneElement"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport classnames from 'classnames'\nimport { useRouter } from 'next/router'\nimport { AnimatePresence, motion, useViewportScroll } from 'framer-motion'\n\nimport {\n  SUPPORTED_CHAIN_IDS,\n} from 'lib/constants'\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider'\nimport { NavAccount } from 'lib/components/NavAccount'\nimport { DepositWizardContainer } from 'lib/components/DepositWizardContainer'\nimport { HeaderLogo } from 'lib/components/HeaderLogo'\nimport { NavMobile } from 'lib/components/NavMobile'\nimport { NetworkText } from 'lib/components/NetworkText'\nimport { ManageTicketsWizardContainer } from 'lib/components/ManageTicketsWizardContainer'\nimport { Meta } from 'lib/components/Meta'\nimport { Nav } from 'lib/components/Nav'\nimport { LanguagePicker } from 'lib/components/LanguagePicker'\nimport { Settings } from 'lib/components/Settings'\nimport { SignInFormContainer } from 'lib/components/SignInFormContainer'\nimport { WrongNetworkModal } from 'lib/components/WrongNetworkModal'\nimport { chainIdToNetworkName } from 'lib/utils/chainIdToNetworkName'\n\nconst onlyUnique = (value, index, self) => {\n  return self.indexOf(value) === index\n}\n\nexport function Layout(props) {\n  const {\n    children\n  } = props\n\n  const [yScrollPosition, setYScrollPosition] = useState()\n  const { scrollY } = useViewportScroll()\n\n  scrollY.onChange(y => {\n    setYScrollPosition(y)\n  })\n\n  const [showTransactionsDialog, setShowTransactionsDialog] = useState(false)\n\n  const openTransactions = (e) => {\n    e.preventDefault()\n    setShowTransactionsDialog(true)\n  }\n\n  const closeTransactions = (e) => {\n    if (e) {\n      e.preventDefault()\n    }\n    setShowTransactionsDialog(false)\n  }\n  \n  const router = useRouter()\n\n  const signIn = router.query.signIn\n  const deposit = /deposit/.test(router.asPath)\n  const manage = /\\/account\\/pools\\/[A-Za-z-]*\\/manage-tickets/.test(router.asPath)\n\n  const { usersAddress, chainId } = useContext(AuthControllerContext)\n\n  // this is useful for showing a big banner at the top that catches\n  // people's attention\n  const showingBanner = false\n  // const showingBanner = chainId !== 1\n\n  let supportedNetworkNames = SUPPORTED_CHAIN_IDS.map(chainId => chainIdToNetworkName(chainId))\n  supportedNetworkNames = supportedNetworkNames.filter(onlyUnique)\n\n  return <>\n    <Meta />\n\n    <AnimatePresence>\n      {signIn && <SignInFormContainer />}\n    </AnimatePresence>\n\n    <AnimatePresence>\n      {deposit && <DepositWizardContainer\n        {...props}\n      />}\n    </AnimatePresence>\n\n    <AnimatePresence>\n      {manage && <ManageTicketsWizardContainer\n        {...props}\n      />}\n    </AnimatePresence>\n\n    <WrongNetworkModal />\n    \n    <div\n      className='flex flex-col w-full'\n      style={{\n        minHeight: '100vh'\n      }}\n    >\n      <motion.div\n        className={classnames(\n          'header fixed w-full bg-body z-30 pt-1 pb-1 xs:pt-2 xs:pb-0 sm:py-0 mx-auto l-0 r-0',\n          { \n            'showing-network-banner': showingBanner\n          }\n        )}\n      >\n        <div\n          className='flex justify-between items-center px-4 xs:px-12 sm:px-10 py-4 xs:pb-6 sm:pt-5 sm:pb-7 mx-auto'\n        >\n          <HeaderLogo />\n\n          <div\n            className={classnames(\n              'flex items-center justify-end flex-row flex-wrap relative',\n            )}\n            style={{\n              lineHeight: 0\n            }}\n          >\n            {usersAddress && <>\n              <NavAccount\n                openTransactions={openTransactions}\n                closeTransactions={closeTransactions}\n                showTransactionsDialog={showTransactionsDialog}\n              />\n            </>}\n            \n            {usersAddress && chainId && chainId !== 1 && <>\n              <NetworkText\n                openTransactions={openTransactions}\n              />\n            </>}\n\n            {/* this pushes the lang picker and settings gear onto it's own roll on mobile/tablet */}\n            <div className='w-full sm:hidden'></div>\n\n            <LanguagePicker />\n\n            <Settings />\n          </div>\n        </div>\n\n        <motion.div\n          className='w-full'\n          style={{\n            boxShadow: 'rgba(0, 0, 0, 0.025) 0px 0px 1px 1px, rgba(0, 0, 0, 0.1) 0px 1px 7px 1px',\n            height: 0,\n            maxWidth: '100vw',\n          }}\n          animate={yScrollPosition > 1 ? 'enter' : 'exit'}\n          variants={{\n            enter: {\n              opacity: 1,\n              transition: {\n                duration: 1\n              }\n            },\n            exit: {\n              opacity: 0\n            }\n          }}\n        >\n        </motion.div>\n      </motion.div>\n\n\n      <div\n        className={classnames(\n          'grid-wrapper',\n          {\n            'showing-network-banner': showingBanner\n          }\n        )}\n      >\n        <div\n          className={classnames(\n            'sidebar hidden sm:block z-20',\n            {\n              'showing-network-banner': showingBanner\n            }\n          )}\n        >\n          <Nav />\n        </div>\n\n        <div className='content'>\n          <div\n            className='pool-container w-full flex flex-grow relative z-10 h-full page px-4 xs:px-12 sm:px-10 pt-6 xs:pt-6 sm:pt-8'\n          >\n            <div\n              className='flex flex-col flex-grow'\n            >\n\n              <div\n                className='relative flex flex-col flex-grow h-full z-10 text-white'\n                style={{\n                  flex: 1\n                }}\n              >\n                <div\n                  className='my-0 text-inverse sm:pt-2 lg:pt-4'\n                >\n                  {React.cloneElement(children, {\n                    ...props,\n                  })}\n                </div>\n              </div>\n\n              {/* \n              <div\n                className='main-footer z-10'\n              >\n                <Footer />\n              </div> */}\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n      <NavMobile />\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}