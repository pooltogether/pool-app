{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport classnames from 'classnames';\nimport FeatherIcon from 'feather-icons-react';\nimport { useRouter } from 'next/router';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { handleCloseWizard } from 'lib/utils/handleCloseWizard';\n\nfunction range1(i) {\n  return i ? range1(i - 1).concat(i) : [];\n}\n\nexport function WizardLayout(props) {\n  const {\n    currentWizardStep,\n    handlePreviousStep,\n    moveToStep,\n    totalWizardSteps,\n    children\n  } = props;\n  const router = useRouter();\n  const action = router.asPath.match('withdraw') ? 'withdraw' : 'deposit';\n\n  const handleClose = () => {\n    handleCloseWizard(router);\n  }; // could easily refactor into a custom hook\n\n\n  useEffect(() => {\n    const escToClose = e => {\n      if (e.keyCode === 27) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', escToClose);\n    return () => {\n      document.removeEventListener('keydown', escToClose);\n    };\n  }, []);\n  const disabled = currentWizardStep <= 1 || currentWizardStep >= totalWizardSteps;\n  return __jsx(React.Fragment, null, __jsx(motion.div, {\n    key: `${action}-scaled-bg`,\n    className: \"fixed w-full h-full z-40 bg-darkened\",\n    initial: {\n      scale: 0\n    },\n    animate: {\n      scale: 1,\n      transition: {\n        duration: 0.2\n      }\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 0.25,\n        delay: 0.25\n      }\n    }\n  }), __jsx(motion.div, {\n    key: `${action}-pane`,\n    className: \"fixed t-0 l-0 r-0 b-0 w-full h-full z-40 z-50\",\n    exit: {\n      opacity: 0,\n      y: -20\n    },\n    transition: {\n      duration: 0.25\n    }\n  }, __jsx(\"nav\", {\n    className: \"fixed t-0 l-0 r-0 w-full px-4 pt-4 flex items-start justify-between h-20\"\n  }, __jsx(\"button\", {\n    disabled: disabled,\n    type: \"button\",\n    onClick: handlePreviousStep,\n    className: classnames('text-inverse hover:opacity-100 trans outline-none focus:outline-none active:outline-none', {\n      'opacity-70': !disabled,\n      'opacity-30': disabled\n    })\n  }, __jsx(FeatherIcon, {\n    icon: \"arrow-left-circle\",\n    className: \"w-8 h-8 sm:w-16 sm:h-16\",\n    strokeWidth: \"0.09rem\"\n  })), __jsx(AnimatePresence, {\n    exitBeforeEnter: true\n  }, __jsx(motion.div, {\n    key: \"wizard-step-count-parent\",\n    className: \"flex\",\n    variants: {\n      enter: {\n        y: 13,\n        transition: {\n          when: 'beforeChildren',\n          staggerChildren: 0.4\n        }\n      },\n      exit: {\n        y: -70\n      }\n    },\n    initial: \"exit\",\n    exit: \"exit\",\n    animate: \"enter\"\n  }, range1(totalWizardSteps).map((stepNum, index) => {\n    return __jsx(motion.div, {\n      key: `step-counter-${index + 1}`,\n      exit: {\n        scaleX: 0,\n        transition: {\n          duration: 1\n        }\n      },\n      onClick: e => {\n        e.preventDefault();\n\n        if (currentWizardStep < index + 1) {\n          return;\n        }\n\n        moveToStep(index);\n      },\n      className: classnames('cursor-pointer w-8 h-2 rounded-sm mx-1', {\n        'bg-default': currentWizardStep < index + 1,\n        'bg-purple': currentWizardStep >= index + 1\n      })\n    });\n  }))), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleClose,\n    className: \"text-inverse opacity-70 hover:opacity-100 trans outline-none focus:outline-none active:outline-none\"\n  }, __jsx(FeatherIcon, {\n    icon: \"x-circle\",\n    className: \"w-8 h-8 sm:w-16 sm:h-16\",\n    strokeWidth: \"0.09rem\"\n  }))), __jsx(\"div\", {\n    className: \"h-full flex flex-col justify-center px-4 xs:px-12 sm:px-36 lg:px-48 text-center mx-auto\",\n    style: {\n      maxWidth: 1160\n    }\n  }, children)));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/WizardLayout.jsx"],"names":["React","useContext","useEffect","classnames","FeatherIcon","useRouter","motion","AnimatePresence","handleCloseWizard","range1","i","concat","WizardLayout","props","currentWizardStep","handlePreviousStep","moveToStep","totalWizardSteps","children","router","action","asPath","match","handleClose","escToClose","e","keyCode","document","addEventListener","removeEventListener","disabled","scale","transition","duration","opacity","delay","y","enter","when","staggerChildren","exit","map","stepNum","index","scaleX","preventDefault","maxWidth"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport classnames from 'classnames'\nimport FeatherIcon from 'feather-icons-react'\nimport { useRouter } from 'next/router'\nimport { motion, AnimatePresence } from 'framer-motion'\n\nimport { handleCloseWizard } from 'lib/utils/handleCloseWizard'\n\nfunction range1(i) { return i ? range1(i - 1).concat(i) : [] }\n\nexport function WizardLayout(props) {\n  const {\n    currentWizardStep,\n    handlePreviousStep,\n    moveToStep,\n    totalWizardSteps,\n    children\n  } = props\n\n  const router = useRouter()\n  const action = router.asPath.match('withdraw') ? 'withdraw' : 'deposit'\n\n  const handleClose = () => {\n    handleCloseWizard(router)\n  }\n\n  // could easily refactor into a custom hook\n  useEffect(() => {\n    const escToClose = (e) => {\n      if (e.keyCode === 27) {\n        handleClose()\n      }\n    }\n\n    document.addEventListener('keydown', escToClose)\n\n    return () => {\n      document.removeEventListener('keydown', escToClose)\n    }\n  }, [])\n\n  const disabled = currentWizardStep <= 1 || currentWizardStep >= totalWizardSteps\n\n  return <>\n    <motion.div\n      key={`${action}-scaled-bg`}\n      className='fixed w-full h-full z-40 bg-darkened'\n      initial={{ scale: 0 }}\n      animate={{ scale: 1, transition: { duration: 0.2 } }}\n      exit={{ opacity: 0, transition: {\n        duration: 0.25,\n        delay: 0.25,\n      } }}\n    />\n    \n    <motion.div\n      key={`${action}-pane`}\n      className='fixed t-0 l-0 r-0 b-0 w-full h-full z-40 z-50'\n      exit={{ opacity: 0, y: -20 }}\n      transition={{ duration: 0.25 }}\n    >\n      <nav\n        className='fixed t-0 l-0 r-0 w-full px-4 pt-4 flex items-start justify-between h-20'\n      >\n        <button\n          disabled={disabled}\n          type='button'\n          onClick={handlePreviousStep}\n          className={classnames(\n            'text-inverse hover:opacity-100 trans outline-none focus:outline-none active:outline-none',\n            {\n              'opacity-70': !disabled,\n              'opacity-30': disabled\n            }\n          )}\n        >\n          <FeatherIcon\n            icon='arrow-left-circle'\n            className='w-8 h-8 sm:w-16 sm:h-16'\n            strokeWidth='0.09rem'\n          />\n        </button>\n      \n      <AnimatePresence exitBeforeEnter>\n        <motion.div\n          key='wizard-step-count-parent'\n          className='flex'\n          variants={{\n            enter: {\n              y: 13,\n              transition: {\n                when: 'beforeChildren',\n                staggerChildren: 0.4,\n              },\n            },\n            exit: { y: -70 },\n          }}\n          initial='exit'\n          exit='exit'\n          animate='enter'\n        >\n            {range1(totalWizardSteps).map((stepNum, index) => {\n              return <motion.div\n                key={`step-counter-${index+1}`}\n                exit={{ scaleX: 0, transition: { duration: 1 } }}\n                onClick={(e) => {\n                  e.preventDefault()\n\n                  if (currentWizardStep < index + 1) {\n                    return\n                  }\n\n                  moveToStep(index)\n                }}\n                className={classnames(\n                  'cursor-pointer w-8 h-2 rounded-sm mx-1',\n                  {\n                    'bg-default': currentWizardStep < index + 1,\n                    'bg-purple': currentWizardStep >= index + 1,\n                  }\n                )}\n              />\n            })}\n          </motion.div>\n        </AnimatePresence>\n\n        <button\n          type='button'\n          onClick={handleClose}\n          className='text-inverse opacity-70 hover:opacity-100 trans outline-none focus:outline-none active:outline-none'\n        >\n          <FeatherIcon\n            icon='x-circle'\n            className='w-8 h-8 sm:w-16 sm:h-16'\n            strokeWidth='0.09rem'\n          />\n        </button>\n      </nav>\n\n      <div\n        className='h-full flex flex-col justify-center px-4 xs:px-12 sm:px-36 lg:px-48 text-center mx-auto'\n        style={{\n          maxWidth: 1160\n        }}\n      >\n        {children}\n      </div>\n\n    </motion.div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}