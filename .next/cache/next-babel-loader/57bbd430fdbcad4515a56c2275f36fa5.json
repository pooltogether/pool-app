{"ast":null,"code":"import { useQuery } from 'react-query';\nimport { MAINNET_POLLING_INTERVAL, QUERY_KEYS } from 'lib/constants';\nimport { getSponsorData } from 'lib/fetchers/getSponsorData';\nexport function useSponsorQuery(pauseQueries, chainId, sponsorAddress, blockNumber = -1, error = null) {\n  const refetchInterval = !pauseQueries && blockNumber === -1 ? MAINNET_POLLING_INTERVAL : false;\n  return useQuery([QUERY_KEYS.sponsorQuery, chainId, sponsorAddress, blockNumber], async () => {\n    return getSponsorData(chainId, sponsorAddress, blockNumber);\n  }, {\n    enabled: !pauseQueries && chainId && sponsorAddress && blockNumber && !error,\n    refetchInterval\n  });\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/hooks/useSponsorQuery.js"],"names":["useQuery","MAINNET_POLLING_INTERVAL","QUERY_KEYS","getSponsorData","useSponsorQuery","pauseQueries","chainId","sponsorAddress","blockNumber","error","refetchInterval","sponsorQuery","enabled"],"mappings":"AAAA,SAASA,QAAT,QAAyB,aAAzB;AAEA,SACEC,wBADF,EAEEC,UAFF,QAGO,eAHP;AAIA,SAASC,cAAT,QAA+B,6BAA/B;AAEA,OAAO,SAASC,eAAT,CAAyBC,YAAzB,EAAuCC,OAAvC,EAAgDC,cAAhD,EAAgEC,WAAW,GAAG,CAAC,CAA/E,EAAkFC,KAAK,GAAG,IAA1F,EAAgG;AACrG,QAAMC,eAAe,GAAG,CAACL,YAAD,IAAkBG,WAAW,KAAK,CAAC,CAAnC,GACtBP,wBADsB,GAEtB,KAFF;AAIA,SAAOD,QAAQ,CACb,CAACE,UAAU,CAACS,YAAZ,EAA0BL,OAA1B,EAAmCC,cAAnC,EAAmDC,WAAnD,CADa,EAEb,YAAY;AAAE,WAAOL,cAAc,CAACG,OAAD,EAAUC,cAAV,EAA0BC,WAA1B,CAArB;AAA6D,GAF9D,EAGb;AACEI,IAAAA,OAAO,EAAE,CAACP,YAAD,IAAiBC,OAAjB,IAA4BC,cAA5B,IAA8CC,WAA9C,IAA6D,CAACC,KADzE;AAEEC,IAAAA;AAFF,GAHa,CAAf;AAQD","sourcesContent":["import { useQuery } from 'react-query'\n\nimport {\n  MAINNET_POLLING_INTERVAL,\n  QUERY_KEYS\n} from 'lib/constants'\nimport { getSponsorData } from 'lib/fetchers/getSponsorData'\n\nexport function useSponsorQuery(pauseQueries, chainId, sponsorAddress, blockNumber = -1, error = null) {\n  const refetchInterval = !pauseQueries && (blockNumber === -1) ?\n    MAINNET_POLLING_INTERVAL :\n    false\n\n  return useQuery(\n    [QUERY_KEYS.sponsorQuery, chainId, sponsorAddress, blockNumber],\n    async () => { return getSponsorData(chainId, sponsorAddress, blockNumber) },\n    { \n      enabled: !pauseQueries && chainId && sponsorAddress && blockNumber && !error,\n      refetchInterval\n    }\n  )\n}\n"]},"metadata":{},"sourceType":"module"}