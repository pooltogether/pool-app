{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport i18next from '../i18n';\nimport * as Fathom from 'fathom-client';\nimport * as Sentry from '@sentry/react';\nimport { Integrations } from '@sentry/tracing';\nimport Cookies from 'js-cookie';\nimport { ethers } from 'ethers';\nimport { ToastContainer } from 'react-toastify';\nimport { ReactQueryDevtools } from 'react-query-devtools';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { QueryCache, ReactQueryCacheProvider } from 'react-query';\nimport { Provider } from 'jotai';\nimport { COOKIE_OPTIONS, REFERRER_ADDRESS_KEY } from 'lib/constants';\nimport { AllContextProviders } from 'lib/components/contextProviders/AllContextProviders';\nimport { BodyClasses } from 'lib/components/BodyClasses';\nimport { CustomErrorBoundary } from 'lib/components/CustomErrorBoundary';\nimport { GraphErrorModal } from 'lib/components/GraphErrorModal';\nimport { Layout } from 'lib/components/Layout';\nimport { LoadingScreen } from 'lib/components/LoadingScreen';\nimport { NewPrizeWinnerEventListener } from 'lib/components/NewPrizeWinnerEventListener';\nimport { TransactionStatusChecker } from 'lib/components/TransactionStatusChecker';\nimport { TxRefetchListener } from 'lib/components/TxRefetchListener';\nimport '@reach/dialog/styles.css';\nimport '@reach/menu-button/styles.css';\nimport '@reach/tooltip/styles.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'assets/styles/utils.css';\nimport 'assets/styles/index.css';\nimport 'assets/styles/toast-blur.css';\nimport 'assets/styles/layout.css';\nimport 'assets/styles/loader.css';\nimport 'assets/styles/themes.css';\nimport 'assets/styles/typography.css';\nimport 'assets/styles/tables.css';\nimport 'assets/styles/pool.css';\nimport 'assets/styles/pool-toast.css';\nimport 'assets/styles/animations.css';\nimport 'assets/styles/transitions.css';\nimport 'assets/styles/interactable-cards.css';\nimport 'assets/styles/forms.css';\nimport 'assets/styles/tabs.css';\nimport 'assets/styles/tickets.css';\nimport 'assets/styles/bnc-onboard--custom.css';\nimport 'assets/styles/reach--custom.css';\nimport 'assets/styles/vx--custom.css';\nvar queryCache = new QueryCache();\n\nif (true) {\n  window.ethers = ethers;\n}\n\nif (process.env.NEXT_JS_SENTRY_DSN) {\n  Sentry.init({\n    dsn: process.env.NEXT_JS_SENTRY_DSN,\n    release: process.env.NEXT_JS_RELEASE_VERSION,\n    integrations: [new Integrations.BrowserTracing()]\n  });\n}\n\nfunction MyApp(_ref) {\n  _s();\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      router = _ref.router;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1]; // const redirectIfBorked = () => {\n  //   const badPaths = [\n  //     'http://localhost:3000/en',\n  //     'https://app.pooltogether.com/en',\n  //     'https://app.pooltogether.com/es',\n  //     'https://app.pooltogether.com/it',\n  //     'https://app.pooltogether.com/ja',\n  //     'https://app.pooltogether.com/zh',\n  //     'https://app.pooltogether.com/hr',\n  //     'https://app.pooltogether.com/ko',\n  //     'https://app.pooltogether.com/tr',\n  //     'https://app.pooltogether.com/de',\n  //   ]\n  //   // console.log('checking')\n  //   if (badPaths.includes(window.location.href)) {\n  //     router.push(\n  //       '/',\n  //       '/',\n  //       { shallow: true }\n  //     )\n  //   }\n  // }\n  // useEffect(() => {\n  //   redirectIfBorked()\n  // }, [])\n  // useInterval(() => {\n  //   redirectIfBorked()\n  // }, 1000)\n\n\n  useEffect(function () {\n    var _router$query;\n\n    if (router === null || router === void 0 ? void 0 : (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.referrer) {\n      var referrerAddress = router.query.referrer;\n\n      try {\n        ethers.utils.getAddress(referrerAddress);\n        Cookies.set(REFERRER_ADDRESS_KEY, referrerAddress, COOKIE_OPTIONS);\n      } catch (e) {\n        console.error(\"referrer address was an invalid Ethereum address:\", e.message);\n      }\n    }\n  }, []);\n  useEffect(function () {\n    var fathomSiteId = process.env.NEXT_JS_FATHOM_SITE_ID;\n\n    if (fathomSiteId) {\n      var onRouteChangeComplete = function onRouteChangeComplete(url) {\n        if (window['fathom']) {\n          window['fathom'].trackPageview();\n        }\n      };\n\n      Fathom.load(process.env.NEXT_JS_FATHOM_SITE_ID, {\n        url: 'https://goose.pooltogether.com/script.js',\n        includedDomains: ['app-v3.pooltogether.com', 'app.pooltogether.com', 'staging-v3.pooltogether.com']\n      });\n      router.events.on('routeChangeComplete', onRouteChangeComplete);\n      return function () {\n        router.events.off('routeChangeComplete', onRouteChangeComplete);\n      };\n    }\n  }, []);\n  useEffect(function () {\n    var handleExitComplete = function handleExitComplete() {\n      if (true) {\n        // window.scrollTo({ top: 0 })\n        // make sure opacity gets set back to 1 after page transitions!\n        setTimeout(function () {\n          var elem = document.getElementById('content-animation-wrapper'); // in case the animation failed\n\n          if (elem) {\n            elem.style.opacity = '1';\n          }\n        }, 1000);\n      }\n    };\n\n    router.events.on('routeChangeComplete', handleExitComplete);\n    return function () {\n      router.events.off('routeChangeComplete', handleExitComplete);\n    };\n  }, []);\n  useEffect(function () {\n    var initi18next = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return i18next.initPromise.then(function () {\n                  setInitialized(true);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function initi18next() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    initi18next();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Provider, null, __jsx(ReactQueryCacheProvider, {\n    queryCache: queryCache\n  }, __jsx(BodyClasses, null), __jsx(GraphErrorModal, null), __jsx(LoadingScreen, {\n    initialized: initialized\n  }), __jsx(ToastContainer, {\n    className: \"pool-toast\",\n    position: \"top-center\",\n    autoClose: 7000\n  }), __jsx(AllContextProviders, null, __jsx(CustomErrorBoundary, null, __jsx(NewPrizeWinnerEventListener, null), __jsx(TransactionStatusChecker, null), __jsx(TxRefetchListener, null), __jsx(Layout, {\n    props: pageProps\n  }, __jsx(AnimatePresence, {\n    exitBeforeEnter: true\n  }, __jsx(motion.div, {\n    id: \"content-animation-wrapper\",\n    key: router.route,\n    transition: {\n      duration: 0.3,\n      ease: 'easeIn'\n    },\n    initial: {\n      opacity: 0\n    },\n    exit: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    }\n  }, __jsx(Component, pageProps)))), __jsx(ReactQueryDevtools, null))))));\n}\n\n_s(MyApp, \"8QHYOSWbsVt5A9vgePhmZpt5hwg=\");\n\n_c = MyApp;\nexport default MyApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyApp\");","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/pages/_app.jsx"],"names":["React","useEffect","useState","i18next","Fathom","Sentry","Integrations","Cookies","ethers","ToastContainer","ReactQueryDevtools","motion","AnimatePresence","QueryCache","ReactQueryCacheProvider","Provider","COOKIE_OPTIONS","REFERRER_ADDRESS_KEY","AllContextProviders","BodyClasses","CustomErrorBoundary","GraphErrorModal","Layout","LoadingScreen","NewPrizeWinnerEventListener","TransactionStatusChecker","TxRefetchListener","queryCache","window","process","env","NEXT_JS_SENTRY_DSN","init","dsn","release","NEXT_JS_RELEASE_VERSION","integrations","BrowserTracing","MyApp","Component","pageProps","router","initialized","setInitialized","query","referrer","referrerAddress","utils","getAddress","set","e","console","error","message","fathomSiteId","NEXT_JS_FATHOM_SITE_ID","onRouteChangeComplete","url","trackPageview","load","includedDomains","events","on","off","handleExitComplete","setTimeout","elem","document","getElementById","style","opacity","initi18next","initPromise","then","route","duration","ease"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport i18next from '../i18n'\nimport * as Fathom from 'fathom-client'\nimport * as Sentry from '@sentry/react'\nimport { Integrations } from '@sentry/tracing'\nimport Cookies from 'js-cookie'\nimport { ethers } from 'ethers'\nimport { ToastContainer } from 'react-toastify'\nimport { ReactQueryDevtools } from 'react-query-devtools'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { \n  QueryCache,\n  ReactQueryCacheProvider\n} from 'react-query'\nimport { Provider } from 'jotai'\n\nimport { COOKIE_OPTIONS, REFERRER_ADDRESS_KEY } from 'lib/constants'\nimport { AllContextProviders } from 'lib/components/contextProviders/AllContextProviders'\nimport { BodyClasses } from 'lib/components/BodyClasses'\nimport { CustomErrorBoundary } from 'lib/components/CustomErrorBoundary'\nimport { GraphErrorModal } from 'lib/components/GraphErrorModal'\nimport { Layout } from 'lib/components/Layout'\nimport { LoadingScreen } from 'lib/components/LoadingScreen'\nimport { NewPrizeWinnerEventListener } from 'lib/components/NewPrizeWinnerEventListener'\nimport { TransactionStatusChecker } from 'lib/components/TransactionStatusChecker'\nimport { TxRefetchListener } from 'lib/components/TxRefetchListener'\n\nimport '@reach/dialog/styles.css'\nimport '@reach/menu-button/styles.css'\nimport '@reach/tooltip/styles.css'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport 'assets/styles/utils.css'\nimport 'assets/styles/index.css'\nimport 'assets/styles/toast-blur.css'\nimport 'assets/styles/layout.css'\nimport 'assets/styles/loader.css'\nimport 'assets/styles/themes.css'\n\nimport 'assets/styles/typography.css'\nimport 'assets/styles/tables.css'\nimport 'assets/styles/pool.css'\nimport 'assets/styles/pool-toast.css'\nimport 'assets/styles/animations.css'\nimport 'assets/styles/transitions.css'\n\nimport 'assets/styles/interactable-cards.css'\nimport 'assets/styles/forms.css'\nimport 'assets/styles/tabs.css'\nimport 'assets/styles/tickets.css'\n\nimport 'assets/styles/bnc-onboard--custom.css'\nimport 'assets/styles/reach--custom.css'\nimport 'assets/styles/vx--custom.css'\n\nconst queryCache = new QueryCache()\n\nif (typeof window !== 'undefined') {\n  window.ethers = ethers\n}\n\nif (process.env.NEXT_JS_SENTRY_DSN) {\n  Sentry.init({\n    dsn: process.env.NEXT_JS_SENTRY_DSN,\n    release: process.env.NEXT_JS_RELEASE_VERSION,\n    integrations: [\n      new Integrations.BrowserTracing(),\n    ],\n  })\n}\n\nfunction MyApp({ Component, pageProps, router }) {\n  const [initialized, setInitialized] = useState(false)\n  \n  // const redirectIfBorked = () => {\n  //   const badPaths = [\n  //     'http://localhost:3000/en',\n  //     'https://app.pooltogether.com/en',\n  //     'https://app.pooltogether.com/es',\n  //     'https://app.pooltogether.com/it',\n  //     'https://app.pooltogether.com/ja',\n  //     'https://app.pooltogether.com/zh',\n  //     'https://app.pooltogether.com/hr',\n  //     'https://app.pooltogether.com/ko',\n  //     'https://app.pooltogether.com/tr',\n  //     'https://app.pooltogether.com/de',\n  //   ]\n  //   // console.log('checking')\n\n  //   if (badPaths.includes(window.location.href)) {\n  //     router.push(\n  //       '/',\n  //       '/',\n  //       { shallow: true }\n  //     )\n  //   }\n  // }\n  \n  // useEffect(() => {\n  //   redirectIfBorked()\n  // }, [])\n  \n  // useInterval(() => {\n  //   redirectIfBorked()\n  // }, 1000)\n  \n\n  useEffect(() => {\n    if (router?.query?.referrer) {\n      const referrerAddress = router.query.referrer\n\n      try {\n        ethers.utils.getAddress(referrerAddress)\n\n        Cookies.set(\n          REFERRER_ADDRESS_KEY,\n          referrerAddress,\n          COOKIE_OPTIONS\n        )\n      } catch (e) {\n        console.error(`referrer address was an invalid Ethereum address:`, e.message)\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    const fathomSiteId = process.env.NEXT_JS_FATHOM_SITE_ID\n\n    if (fathomSiteId) {\n      Fathom.load(process.env.NEXT_JS_FATHOM_SITE_ID, {\n        url: 'https://goose.pooltogether.com/script.js',\n        includedDomains: [\n          'app-v3.pooltogether.com',\n          'app.pooltogether.com',\n          'staging-v3.pooltogether.com',\n        ]\n      })\n  \n      function onRouteChangeComplete(url) {\n        if (window['fathom']) {\n          window['fathom'].trackPageview()\n        }\n      }\n  \n      router.events.on('routeChangeComplete', onRouteChangeComplete)\n  \n      return () => {\n        router.events.off('routeChangeComplete', onRouteChangeComplete)\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n\n    const handleExitComplete = () => {\n      if (typeof window !== 'undefined') {\n        // window.scrollTo({ top: 0 })\n\n        // make sure opacity gets set back to 1 after page transitions!\n        setTimeout(() => {\n          const elem = document.getElementById('content-animation-wrapper')\n\n          // in case the animation failed\n          if (elem) {\n            elem.style.opacity = '1'\n          }\n        }, 1000)\n      }\n    }\n\n    \n\n\n    router.events.on('routeChangeComplete', handleExitComplete)\n    return () => {\n      router.events.off('routeChangeComplete', handleExitComplete)\n    }\n  }, [])\n\n  useEffect(() => {\n    const initi18next = async () => {\n      await i18next.initPromise.then(() => {\n        setInitialized(true)\n      })\n    }\n    initi18next()\n  }, [])\n\n  return <>\n    <Provider>\n      <ReactQueryCacheProvider queryCache={queryCache}>\n        <BodyClasses />\n\n        <GraphErrorModal />\n\n        <LoadingScreen\n          initialized={initialized}\n        />\n\n        <ToastContainer\n          className='pool-toast'\n          position='top-center'\n          autoClose={7000}\n        />\n\n        <AllContextProviders>\n          <CustomErrorBoundary>\n          \n            <NewPrizeWinnerEventListener />\n\n            <TransactionStatusChecker />\n\n            <TxRefetchListener />\n\n            <Layout\n              props={pageProps}\n            >\n              <AnimatePresence\n                exitBeforeEnter\n              >\n                <motion.div\n                  id='content-animation-wrapper'\n                  key={router.route}\n                  transition={{ duration: 0.3, ease: 'easeIn' }}\n                  initial={{\n                    opacity: 0\n                  }}\n                  exit={{\n                    opacity: 0\n                  }}\n                  animate={{\n                    opacity: 1\n                  }}\n                >\n                  <Component {...pageProps} />\n                </motion.div>\n              </AnimatePresence>\n            </Layout>\n\n            <ReactQueryDevtools />\n          </CustomErrorBoundary>\n        </AllContextProviders>\n      </ReactQueryCacheProvider>\n    </Provider>\n  </>\n}\n\nexport default MyApp"]},"metadata":{},"sourceType":"module"}