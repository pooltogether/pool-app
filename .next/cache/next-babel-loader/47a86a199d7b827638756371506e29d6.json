{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { i18n } from 'lib/../i18n';\nimport { DropdownList } from 'lib/components/DropdownList';\n{\n  /*\n   de: Deutsch (German)\n   en: English\n   es: Español (Spanish)\n   fr: Français (French)\n   hr: Hrvatski (Croatian)\n   it: Italiana (Italian)\n   ja: 日本 (Japanese)\n   ko: 한국어 (Korean)\n   tr: Türk (Turkish)\n   zh: 普通话 (Mandarin)\n  */\n}\nexport function LanguagePicker(props) {\n  const {\n    0: langs,\n    1: setLangs\n  } = useState({\n    en: {\n      'name': 'English',\n      'nativeName': 'English'\n    }\n  });\n  const {\n    0: currentLang,\n    1: setCurrentLang\n  } = useState('en');\n\n  const onValueSet = newLang => {\n    setCurrentLang(newLang);\n    i18n.changeLanguage(newLang);\n  }; // set lang to whatever i18n thinks it should be (based\n  // on lang detection or stored cookies)\n\n\n  useEffect(() => {\n    if (i18n.language) {\n      setCurrentLang(i18n.language);\n    }\n  }, []);\n  useEffect(() => {\n    const runGetLangs = async () => {\n      await i18n.services.backendConnector.backend.getLanguages((err, result) => {\n        if (err) {\n          console.error(`There was an error getting the languages from locize: `, err);\n        }\n\n        const activeLangsArray = Object.keys(result).reduce(function (array, lang) {\n          if (i18n.options.allLanguages.includes(lang)) {\n            array.push(lang);\n          }\n\n          return array;\n        }, []);\n        let items = {};\n        activeLangsArray.forEach(valueItem => {\n          items[valueItem] = result[valueItem];\n        });\n        setLangs(items);\n      });\n    };\n\n    runGetLangs();\n  }, []);\n\n  const formatValue = key => {\n    const lang = langs[key];\n    return __jsx(React.Fragment, null, key.toUpperCase(), \" - \", __jsx(\"span\", {\n      className: \"capitalize\"\n    }, lang.nativeName.split(',')[0]), \" (\", lang.name.split(';')[0], \")\");\n  };\n\n  return __jsx(React.Fragment, null, __jsx(DropdownList, {\n    id: \"language-picker-dropdown\",\n    className: \"ml-8 xs:ml-6 sm:ml-6 mr-2 sm:mr-4 my-2 text-xxs sm:text-base text-lg\",\n    label: currentLang === null || currentLang === void 0 ? void 0 : currentLang.toUpperCase(),\n    formatValue: formatValue,\n    onValueSet: onValueSet,\n    current: currentLang,\n    values: langs\n  }));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/LanguagePicker.jsx"],"names":["React","useEffect","useState","i18n","DropdownList","LanguagePicker","props","langs","setLangs","en","currentLang","setCurrentLang","onValueSet","newLang","changeLanguage","language","runGetLangs","services","backendConnector","backend","getLanguages","err","result","console","error","activeLangsArray","Object","keys","reduce","array","lang","options","allLanguages","includes","push","items","forEach","valueItem","formatValue","key","toUpperCase","nativeName","split","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,YAAT,QAA6B,6BAA7B;AAEA;AAAC;;;;;;;;;;;;AAWE;AAEH,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AACpC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBN,QAAQ,CAChC;AACEO,IAAAA,EAAE,EAAE;AACF,cAAQ,SADN;AAEF,oBAAc;AAFZ;AADN,GADgC,CAAlC;AASA,QAAM;AAAA,OAACC,WAAD;AAAA,OAAcC;AAAd,MAAgCT,QAAQ,CAAC,IAAD,CAA9C;;AAEA,QAAMU,UAAU,GAAIC,OAAD,IAAa;AAC9BF,IAAAA,cAAc,CAACE,OAAD,CAAd;AACAV,IAAAA,IAAI,CAACW,cAAL,CAAoBD,OAApB;AACD,GAHD,CAZoC,CAiBpC;AACA;;;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIE,IAAI,CAACY,QAAT,EAAmB;AACjBJ,MAAAA,cAAc,CAACR,IAAI,CAACY,QAAN,CAAd;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,WAAW,GAAG,YAAY;AAC9B,YAAMb,IAAI,CAACc,QAAL,CAAcC,gBAAd,CAA+BC,OAA/B,CAAuCC,YAAvC,CAAoD,CAACC,GAAD,EAAMC,MAAN,KAAiB;AACzE,YAAID,GAAJ,EAAS;AACPE,UAAAA,OAAO,CAACC,KAAR,CAAe,wDAAf,EAAwEH,GAAxE;AACD;;AAED,cAAMI,gBAAgB,GAAGC,MAAM,CAACC,IAAP,CAAYL,MAAZ,EAAoBM,MAApB,CAA2B,UAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACzE,cAAI3B,IAAI,CAAC4B,OAAL,CAAaC,YAAb,CAA0BC,QAA1B,CAAmCH,IAAnC,CAAJ,EAA8C;AAC5CD,YAAAA,KAAK,CAACK,IAAN,CAAWJ,IAAX;AACD;;AACD,iBAAOD,KAAP;AACD,SALwB,EAKtB,EALsB,CAAzB;AAOA,YAAIM,KAAK,GAAG,EAAZ;AACAV,QAAAA,gBAAgB,CAACW,OAAjB,CAAyBC,SAAS,IAAI;AACpCF,UAAAA,KAAK,CAACE,SAAD,CAAL,GAAmBf,MAAM,CAACe,SAAD,CAAzB;AACD,SAFD;AAIA7B,QAAAA,QAAQ,CAAC2B,KAAD,CAAR;AACD,OAlBK,CAAN;AAmBD,KApBD;;AAqBAnB,IAAAA,WAAW;AACZ,GAvBQ,EAuBN,EAvBM,CAAT;;AA0BA,QAAMsB,WAAW,GAAIC,GAAD,IAAS;AAC3B,UAAMT,IAAI,GAAGvB,KAAK,CAACgC,GAAD,CAAlB;AAEA,WAAO,4BACJA,GAAG,CAACC,WAAJ,EADI,SACiB;AAAM,MAAA,SAAS,EAAC;AAAhB,OACnBV,IAAI,CAACW,UAAL,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CADmB,CADjB,QAGKZ,IAAI,CAACa,IAAL,CAAUD,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAHL,MAAP;AAKD,GARD;;AAUA,SAAO,4BACL,MAAC,YAAD;AACE,IAAA,EAAE,EAAC,0BADL;AAEE,IAAA,SAAS,EAAC,sEAFZ;AAGE,IAAA,KAAK,EAAEhC,WAAF,aAAEA,WAAF,uBAAEA,WAAW,CAAE8B,WAAb,EAHT;AAIE,IAAA,WAAW,EAAEF,WAJf;AAKE,IAAA,UAAU,EAAE1B,UALd;AAME,IAAA,OAAO,EAAEF,WANX;AAOE,IAAA,MAAM,EAAEH;AAPV,IADK,CAAP;AAYD","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nimport { i18n } from 'lib/../i18n'\nimport { DropdownList } from 'lib/components/DropdownList'\n\n{/*\n  de: Deutsch (German)\n  en: English\n  es: Español (Spanish)\n  fr: Français (French)\n  hr: Hrvatski (Croatian)\n  it: Italiana (Italian)\n  ja: 日本 (Japanese)\n  ko: 한국어 (Korean)\n  tr: Türk (Turkish)\n  zh: 普通话 (Mandarin)\n*/}\n\nexport function LanguagePicker(props) {\n  const [langs, setLangs] = useState(\n    {\n      en: {\n        'name': 'English',\n        'nativeName': 'English'\n      },\n    }\n  )\n\n  const [currentLang, setCurrentLang] = useState('en')\n\n  const onValueSet = (newLang) => {\n    setCurrentLang(newLang)\n    i18n.changeLanguage(newLang)\n  }\n\n  // set lang to whatever i18n thinks it should be (based\n  // on lang detection or stored cookies)\n  useEffect(() => {\n    if (i18n.language) {\n      setCurrentLang(i18n.language)\n    }\n  }, [])\n  \n  useEffect(() => {\n    const runGetLangs = async () => {\n      await i18n.services.backendConnector.backend.getLanguages((err, result) => {\n        if (err) {\n          console.error(`There was an error getting the languages from locize: `, err)\n        }\n\n        const activeLangsArray = Object.keys(result).reduce(function (array, lang) {\n          if (i18n.options.allLanguages.includes(lang)) {\n            array.push(lang)\n          }\n          return array\n        }, [])\n\n        let items = {}\n        activeLangsArray.forEach(valueItem => {\n          items[valueItem] = result[valueItem]\n        })\n        \n        setLangs(items)\n      })\n    }\n    runGetLangs()\n  }, [])\n\n\n  const formatValue = (key) => {\n    const lang = langs[key]\n\n    return <>\n      {key.toUpperCase()} - <span className='capitalize'>\n        {lang.nativeName.split(',')[0]}\n      </span> ({lang.name.split(';')[0]})\n    </>\n  }\n\n  return <>\n    <DropdownList\n      id='language-picker-dropdown'\n      className='ml-8 xs:ml-6 sm:ml-6 mr-2 sm:mr-4 my-2 text-xxs sm:text-base text-lg'\n      label={currentLang?.toUpperCase()}\n      formatValue={formatValue}\n      onValueSet={onValueSet}\n      current={currentLang}\n      values={langs}\n    />\n\n  </>\n}"]},"metadata":{},"sourceType":"module"}