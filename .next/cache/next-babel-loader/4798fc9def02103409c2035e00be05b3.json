{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport FeatherIcon from 'feather-icons-react';\nimport { motion } from 'framer-motion';\nimport { useRouter } from 'next/router';\nimport { useTranslation } from 'lib/../i18n';\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider';\nimport { WalletContext } from 'lib/components/contextProviders/WalletContextProvider';\nimport { Meta } from 'lib/components/Meta';\nimport { SignInForm } from 'lib/components/SignInForm';\nimport { queryParamUpdater } from 'lib/utils/queryParamUpdater';\nexport function SignInFormContainer(props) {\n  const {\n    t\n  } = useTranslation();\n  const router = useRouter();\n  const showSelectMenu = router.query.showSelectMenu;\n  const {\n    handleLoadOnboard\n  } = useContext(WalletContext);\n  const {\n    connectWallet\n  } = useContext(AuthControllerContext); // lazy load onboardjs when sign-in is shown\n\n  useEffect(() => {\n    // console.log('handleLoadOnboard on sign in show')\n    handleLoadOnboard();\n\n    if (showSelectMenu) {\n      const postSignInCallback = () => {\n        queryParamUpdater.remove(router, 'signIn');\n      };\n\n      connectWallet(postSignInCallback);\n    }\n  }, []); // could easily refactor into a custom hook\n\n  useEffect(() => {\n    const escToClose = e => {\n      if (e.keyCode === 27) {\n        handleCloseSignIn();\n      }\n    };\n\n    document.addEventListener('keydown', escToClose);\n    return () => {\n      document.removeEventListener('keydown', escToClose);\n    };\n  }, []);\n\n  const handleCloseSignIn = () => {\n    queryParamUpdater.remove(router, 'signIn');\n\n    if (router.asPath.match('account')) {\n      router.push('/', '/', {\n        shallow: true\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Meta, {\n    title: t('signIn')\n  }), __jsx(motion.div, {\n    onClick: handleCloseSignIn,\n    key: \"sign-in-scaled-bg\",\n    className: \"fixed t-0 l-0 r-0 b-0 w-full h-full z-40 bg-overlay\",\n    initial: {\n      scale: 0\n    },\n    animate: {\n      scale: 1,\n      transition: {\n        duration: 0.1\n      }\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 0.5\n      }\n    }\n  }), __jsx(motion.div, {\n    key: \"sign-in-pane\",\n    className: \"fixed t-0 l-0 r-0 w-full z-40 bg-darkened\",\n    exit: {\n      opacity: 0,\n      y: -50\n    },\n    transition: {\n      duration: 0.25\n    },\n    style: {\n      maxHeight: 300\n    }\n  }, __jsx(\"nav\", {\n    className: \"fixed t-0 l-0 r-0 w-full px-4 pt-4 flex items-start justify-between h-20\"\n  }, __jsx(\"div\", null), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleCloseSignIn,\n    className: \"text-accent-1 hover:text-inverse trans outline-none focus:outline-none active:outline-none\"\n  }, __jsx(FeatherIcon, {\n    icon: \"x-circle\",\n    className: \"w-8 h-8 sm:w-16 sm:h-16\",\n    strokeWidth: \"0.09rem\"\n  }))), __jsx(\"div\", {\n    className: \"flex flex-col justify-center px-10 xs:px-0 sm:px-12 lg:px-32 py-6 text-center mx-auto shadow-2xl\"\n  }, __jsx(SignInForm, {\n    hideImg: true,\n    descriptionClassName: \"mb-4 text-xxs xs:text-sm sm:text-xl lg:text-2xl xs:w-1/2 sm:w-1/2 lg:w-full mx-auto\",\n    postSignInCallback: () => {\n      queryParamUpdater.remove(router, 'signIn');\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/SignInFormContainer.jsx"],"names":["React","useContext","useEffect","FeatherIcon","motion","useRouter","useTranslation","AuthControllerContext","WalletContext","Meta","SignInForm","queryParamUpdater","SignInFormContainer","props","t","router","showSelectMenu","query","handleLoadOnboard","connectWallet","postSignInCallback","remove","escToClose","e","keyCode","handleCloseSignIn","document","addEventListener","removeEventListener","asPath","match","push","shallow","scale","transition","duration","opacity","y","maxHeight"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport FeatherIcon from 'feather-icons-react'\nimport { motion } from 'framer-motion'\nimport { useRouter } from 'next/router'\n\nimport { useTranslation } from 'lib/../i18n'\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider'\nimport { WalletContext } from 'lib/components/contextProviders/WalletContextProvider'\nimport { Meta } from 'lib/components/Meta'\nimport { SignInForm } from 'lib/components/SignInForm'\nimport { queryParamUpdater } from 'lib/utils/queryParamUpdater'\n\nexport function SignInFormContainer(props) {\n  const { t } = useTranslation()\n  \n  const router = useRouter()\n  const showSelectMenu = router.query.showSelectMenu\n\n  const { handleLoadOnboard } = useContext(WalletContext)\n\n  const { connectWallet } = useContext(AuthControllerContext)\n\n  // lazy load onboardjs when sign-in is shown\n  useEffect(() => {\n    // console.log('handleLoadOnboard on sign in show')\n    handleLoadOnboard()\n\n    if (showSelectMenu) {\n      const postSignInCallback = () => {\n        queryParamUpdater.remove(router, 'signIn')\n      }\n\n      connectWallet(postSignInCallback)\n    }\n  }, [])\n  \n  // could easily refactor into a custom hook\n  useEffect(() => {\n    const escToClose = (e) => {\n      if (e.keyCode === 27) {\n        handleCloseSignIn()\n      }\n    }\n\n    document.addEventListener('keydown', escToClose)\n\n    return () => {\n      document.removeEventListener('keydown', escToClose)\n    }\n  }, [])\n\n  const handleCloseSignIn = () => {\n    queryParamUpdater.remove(router, 'signIn')\n\n    if (router.asPath.match('account')) {\n      router.push('/', '/', { shallow: true })\n    }\n  }\n\n  return <>\n    <Meta\n      title={t('signIn')}\n    />\n\n    <motion.div\n      onClick={handleCloseSignIn}\n      key='sign-in-scaled-bg'\n      className='fixed t-0 l-0 r-0 b-0 w-full h-full z-40 bg-overlay'\n      initial={{ scale: 0 }}\n      animate={{ scale: 1, transition: { duration: 0.1 } }}\n      exit={{ opacity: 0, transition: { duration: 0.5 } }}\n    />\n\n    <motion.div\n      key='sign-in-pane'\n      className='fixed t-0 l-0 r-0 w-full z-40 bg-darkened'\n      exit={{ opacity: 0, y: -50 }}\n      transition={{ duration: 0.25 }}\n      style={{\n        maxHeight: 300,\n      }}\n    >\n      <nav\n        className='fixed t-0 l-0 r-0 w-full px-4 pt-4 flex items-start justify-between h-20'\n      >\n        <div></div>\n        <button\n          type='button'\n          onClick={handleCloseSignIn}\n          className='text-accent-1 hover:text-inverse trans outline-none focus:outline-none active:outline-none'\n        >\n          <FeatherIcon\n            icon='x-circle'\n            className='w-8 h-8 sm:w-16 sm:h-16'\n            strokeWidth='0.09rem'\n          />\n        </button>\n      </nav>\n\n      <div\n        className='flex flex-col justify-center px-10 xs:px-0 sm:px-12 lg:px-32 py-6 text-center mx-auto shadow-2xl'\n      >\n        <SignInForm\n          hideImg\n          descriptionClassName='mb-4 text-xxs xs:text-sm sm:text-xl lg:text-2xl xs:w-1/2 sm:w-1/2 lg:w-full mx-auto'\n          postSignInCallback={() => {\n            queryParamUpdater.remove(router, 'signIn')\n          }}\n        />\n      </div>\n    </motion.div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}