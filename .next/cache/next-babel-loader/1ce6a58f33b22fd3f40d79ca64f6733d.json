{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport FeatherIcon from 'feather-icons-react';\nimport classnames from 'classnames';\nimport { motion } from 'framer-motion';\nimport { useRouter } from 'next/router';\nimport { ethers } from 'ethers';\nimport { COOKIE_OPTIONS, WIZARD_REFERRER_HREF, WIZARD_REFERRER_AS_PATH } from 'lib/constants';\nimport { useTranslation } from 'lib/../i18n';\nimport { NewPrizeCountdownInWords } from 'lib/components/NewPrizeCountdownInWords';\nimport { Odds } from 'lib/components/Odds';\nimport { PoolCurrencyIcon } from 'lib/components/PoolCurrencyIcon';\nimport { PoolCountUp } from 'lib/components/PoolCountUp';\nexport const AccountTicket = props => {\n  const {\n    t\n  } = useTranslation();\n  const router = useRouter();\n  const {\n    noMargin,\n    isLink,\n    pool,\n    player\n  } = props;\n  let {\n    href,\n    as\n  } = props;\n\n  if (!href && !as) {\n    href = '/account/pools/[symbol]';\n    as = `/account/pools/${pool === null || pool === void 0 ? void 0 : pool.symbol}`;\n  }\n\n  const decimals = pool === null || pool === void 0 ? void 0 : pool.underlyingCollateralDecimals;\n  let usersBalance = 0;\n\n  if ((player === null || player === void 0 ? void 0 : player.balance) && !isNaN(decimals)) {\n    usersBalance = Number(ethers.utils.formatUnits(player.balance, Number(decimals)));\n  }\n\n  const ticker = pool === null || pool === void 0 ? void 0 : pool.underlyingCollateralSymbol;\n\n  const handleManageClick = e => {\n    e.preventDefault();\n\n    if (!isLink) {\n      return;\n    }\n\n    Cookies.set(WIZARD_REFERRER_HREF, '/account', COOKIE_OPTIONS);\n    Cookies.set(WIZARD_REFERRER_AS_PATH, `/account`, COOKIE_OPTIONS);\n    router.push(`/account/pools/[symbol]/manage-tickets`, `/account/pools/${pool === null || pool === void 0 ? void 0 : pool.symbol}/manage-tickets`, {\n      shallow: true\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(motion.div, {\n    onClick: handleManageClick,\n    key: `account-pool-ticket-${pool === null || pool === void 0 ? void 0 : pool.poolAddress}`,\n    className: classnames('relative ticket bg-no-repeat text-xxxs xs:text-xs', {\n      'xs:mr-6 mb-6': !noMargin,\n      'cursor-pointer': isLink\n    }),\n    whileHover: {\n      scale: isLink ? 1.025 : 1\n    },\n    whileTap: {\n      y: 1,\n      scale: 0.98\n    },\n    animate: {\n      scale: 1,\n      opacity: 1,\n      transition: {\n        duration: 0.2,\n        staggerChildren: 0.5,\n        delayChildren: 0.2\n      }\n    },\n    exit: {\n      scale: 0,\n      opacity: 0,\n      transition: {\n        staggerChildren: 0.05,\n        staggerDirection: -1\n      }\n    }\n  }, __jsx(\"div\", {\n    className: classnames('absolute rounded-b-lg bg-no-repeat ticket-strip', {\n      'ticket--blue': (ticker === null || ticker === void 0 ? void 0 : ticker.toLowerCase()) === 'usdc'\n    })\n  }), __jsx(\"div\", {\n    className: \"flex items-start text-left\"\n  }, __jsx(\"div\", {\n    className: \"flex items-center w-3/4\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-col justify-start w-full pl-6 pt-6 xs:pl-10 xs:pt-8 leading-none\"\n  }, __jsx(\"div\", {\n    className: \"text-xl xs:text-4xl font-bold text-inverse-purple\"\n  }, __jsx(PoolCountUp, {\n    fontSansRegular: true,\n    end: Math.floor(Number.parseFloat(usersBalance)),\n    decimals: null,\n    duration: 0.5\n  })), __jsx(\"div\", {\n    className: \"mt-2\"\n  }, __jsx(\"span\", {\n    className: \"relative text-inverse\"\n  }, t('winningOdds'), \":\"), \" \", usersBalance < 1 ? __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: \"font-bold text-accent-3 text-default-soft\",\n    style: {\n      marginTop: 23\n    }\n  }, t('notAvailableAbbreviation'))) : __jsx(React.Fragment, null, __jsx(Odds, {\n    asSpan: true,\n    fontSansRegular: true,\n    className: \"font-bold text-flashy\",\n    pool: pool,\n    usersBalance: usersBalance\n  }))), __jsx(\"div\", {\n    className: \"flex items-center text-left text-xs xs:text-xl font-bold text-darkened relative mt-8 xs:mt-12 pt-1\"\n  }, __jsx(\"div\", {\n    className: \"w-5/12\"\n  }, \"$\", __jsx(PoolCountUp, {\n    fontSansRegular: true,\n    decimals: 2,\n    duration: 3,\n    end: (pool === null || pool === void 0 ? void 0 : pool.prizeAmountUSD) ? Math.floor(Number.parseFloat(ethers.utils.formatUnits(pool === null || pool === void 0 ? void 0 : pool.prizeAmountUSD, decimals))) : 0\n  })), __jsx(\"div\", {\n    className: \"w-7/12 pl-2\"\n  }, __jsx(NewPrizeCountdownInWords, {\n    extraShort: true,\n    text: \"xxxxs xs:text-xxxs\",\n    pool: pool\n  }))))), __jsx(\"div\", {\n    className: \"pt-5 xs:pt-10 leading-none\",\n    style: {\n      width: 86\n    }\n  }, __jsx(\"div\", {\n    className: \"flex flex-col items-center\"\n  }, __jsx(PoolCurrencyIcon, {\n    noMediaQueries: true,\n    noMargin: true,\n    pool: pool\n  }), __jsx(\"div\", {\n    className: \"capitalize mt-1 text-xs xs:text-lg font-bold text-inverse-purple\"\n  }, ticker === null || ticker === void 0 ? void 0 : ticker.toLowerCase()), isLink && __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: \"inline-flex items-center justify-center text-center font-bold mt-8 xs:mt-12 pt-1 xs:pt-2 z-10 text-darkened pl-2\"\n  }, t('manage'), \" \", __jsx(FeatherIcon, {\n    icon: \"chevron-right\",\n    strokeWidth: \"0.25rem\",\n    className: \"w-3 h-3 mx-1\"\n  }))))))));\n};","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/AccountTicket.jsx"],"names":["React","Cookies","FeatherIcon","classnames","motion","useRouter","ethers","COOKIE_OPTIONS","WIZARD_REFERRER_HREF","WIZARD_REFERRER_AS_PATH","useTranslation","NewPrizeCountdownInWords","Odds","PoolCurrencyIcon","PoolCountUp","AccountTicket","props","t","router","noMargin","isLink","pool","player","href","as","symbol","decimals","underlyingCollateralDecimals","usersBalance","balance","isNaN","Number","utils","formatUnits","ticker","underlyingCollateralSymbol","handleManageClick","e","preventDefault","set","push","shallow","poolAddress","scale","y","opacity","transition","duration","staggerChildren","delayChildren","staggerDirection","toLowerCase","Math","floor","parseFloat","marginTop","prizeAmountUSD","width"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Cookies from 'js-cookie'\nimport FeatherIcon from 'feather-icons-react'\nimport classnames from 'classnames'\nimport { motion } from 'framer-motion'\nimport { useRouter } from 'next/router'\nimport { ethers } from 'ethers'\n\nimport {\n  COOKIE_OPTIONS,\n  WIZARD_REFERRER_HREF,\n  WIZARD_REFERRER_AS_PATH\n} from 'lib/constants'\nimport { useTranslation } from 'lib/../i18n'\nimport { NewPrizeCountdownInWords } from 'lib/components/NewPrizeCountdownInWords'\nimport { Odds } from 'lib/components/Odds'\nimport { PoolCurrencyIcon } from 'lib/components/PoolCurrencyIcon'\nimport { PoolCountUp } from 'lib/components/PoolCountUp'\n\nexport const AccountTicket = (\n  props,\n) => {\n  const { t } = useTranslation()\n  const router = useRouter()\n  \n  const { noMargin, isLink, pool, player } = props\n  let { href, as } = props\n\n  if (!href && !as) {\n    href = '/account/pools/[symbol]'\n    as = `/account/pools/${pool?.symbol}`\n  }\n\n\n  const decimals = pool?.underlyingCollateralDecimals\n\n  let usersBalance = 0\n  if (player?.balance && !isNaN(decimals)) {\n    usersBalance = Number(ethers.utils.formatUnits(\n      player.balance,\n      Number(decimals)\n    ))\n  }\n\n  const ticker = pool?.underlyingCollateralSymbol\n\n  const handleManageClick = (e) => {\n    e.preventDefault()\n\n    if (!isLink) {\n      return\n    }\n\n    Cookies.set(\n      WIZARD_REFERRER_HREF,\n      '/account',\n      COOKIE_OPTIONS\n    )\n    Cookies.set(\n      WIZARD_REFERRER_AS_PATH,\n      `/account`,\n      COOKIE_OPTIONS\n    )\n\n    router.push(\n      `/account/pools/[symbol]/manage-tickets`,\n      `/account/pools/${pool?.symbol}/manage-tickets`,\n      {\n        shallow: true\n      }\n    )\n  }\n\n  return <>\n    <motion.div\n      onClick={handleManageClick}\n      key={`account-pool-ticket-${pool?.poolAddress}`}\n      className={classnames(\n        'relative ticket bg-no-repeat text-xxxs xs:text-xs',\n        {\n          'xs:mr-6 mb-6': !noMargin,\n          'cursor-pointer': isLink\n        }\n      )}\n      whileHover={{\n        scale: isLink ? 1.025 : 1\n      }}\n      whileTap={{\n        y: 1,\n        scale: 0.98\n      }}\n      animate={{\n        scale: 1,\n        opacity: 1,\n        transition: {\n          duration: 0.2,\n          staggerChildren: 0.5,\n          delayChildren: 0.2\n        }\n      }}\n      exit={{\n        scale: 0,\n        opacity: 0,\n        transition: { staggerChildren: 0.05, staggerDirection: -1 }\n      }}\n    >\n      <div\n        className={classnames(\n          'absolute rounded-b-lg bg-no-repeat ticket-strip',\n          {\n            'ticket--blue': ticker?.toLowerCase() === 'usdc'\n          }\n        )}\n      />\n\n      <div className='flex items-start text-left'>\n        <div\n          className='flex items-center w-3/4'\n        >\n          <div\n            className='flex flex-col justify-start w-full pl-6 pt-6 xs:pl-10 xs:pt-8 leading-none'\n          >\n            <div\n              className='text-xl xs:text-4xl font-bold text-inverse-purple'\n            >\n              <PoolCountUp\n                fontSansRegular\n                end={Math.floor(Number.parseFloat(usersBalance))}\n                decimals={null}\n                duration={0.5}\n              />\n            </div>\n\n            <div\n              className='mt-2'\n            >\n              <span\n                className='relative text-inverse'\n              >\n                {t('winningOdds')}:\n              </span> {usersBalance < 1 ? <>\n                <span\n                  className='font-bold text-accent-3 text-default-soft'\n                  style={{\n                    marginTop: 23\n                  }}\n                >\n                  {t('notAvailableAbbreviation')}\n                </span>\n              </> : <>\n                <Odds\n                  asSpan\n                  fontSansRegular\n                  className='font-bold text-flashy'\n                  pool={pool}\n                  usersBalance={usersBalance}\n                />\n              </>}\n            </div>\n\n            <div\n              className='flex items-center text-left text-xs xs:text-xl font-bold text-darkened relative mt-8 xs:mt-12 pt-1'\n            >\n              <div\n                className='w-5/12'\n              >\n                $<PoolCountUp\n                  fontSansRegular\n                  decimals={2}\n                  duration={3}\n                  end={pool?.prizeAmountUSD ?\n                    Math.floor(Number.parseFloat(\n                      ethers.utils.formatUnits(pool?.prizeAmountUSD, decimals)\n                    )) : \n                    0\n                  }\n                />\n              </div>\n              <div\n                className='w-7/12 pl-2'\n              >\n                <NewPrizeCountdownInWords\n                  extraShort\n                  text='xxxxs xs:text-xxxs'\n                  pool={pool}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className='pt-5 xs:pt-10 leading-none'\n          style={{\n            width: 86\n          }}\n        >\n          <div className='flex flex-col items-center'>\n            <PoolCurrencyIcon\n              noMediaQueries\n              noMargin\n              pool={pool}\n            />\n            <div\n              className='capitalize mt-1 text-xs xs:text-lg font-bold text-inverse-purple'\n            >\n              {ticker?.toLowerCase()}\n            </div>\n\n\n            {isLink && <>\n              <span\n                className='inline-flex items-center justify-center text-center font-bold mt-8 xs:mt-12 pt-1 xs:pt-2 z-10 text-darkened pl-2'\n              >\n                {t('manage')} <FeatherIcon\n                  icon='chevron-right'\n                  strokeWidth='0.25rem'\n                  className='w-3 h-3 mx-1'\n                />\n              </span>\n            </>}\n          </div>\n        </div>\n      </div>\n\n    </motion.div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}