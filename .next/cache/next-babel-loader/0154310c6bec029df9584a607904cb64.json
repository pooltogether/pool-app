{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport addSeconds from 'date-fns/addSeconds';\nimport { useInterval } from 'beautiful-react-hooks';\nimport { useTranslation } from 'lib/../i18n'; // import { formatFutureDateInSeconds } from 'lib/utils/formatFutureDateInSeconds'\n\nimport { subtractDates } from 'lib/utils/subtractDates';\nconst ONE_SECOND = 1000;\nexport const NewPrizeCountdown = props => {\n  const {\n    t\n  } = useTranslation();\n  const {\n    pool,\n    center,\n    textAlign,\n    textSize\n  } = props;\n  let flashy = props.flashy === false ? false : true;\n  const {\n    0: secondsRemaining,\n    1: setSecondsRemaining\n  } = useState(null); // console.log('a', pool?.prizePeriodRemainingSeconds?.toString())\n  // const secs = 167868\n\n  const secs = (pool === null || pool === void 0 ? void 0 : pool.prizePeriodRemainingSeconds) && parseInt(pool === null || pool === void 0 ? void 0 : pool.prizePeriodRemainingSeconds.toString(), 10);\n  useEffect(() => {\n    setSecondsRemaining(secs);\n  }, [secs]);\n  useInterval(() => {\n    setSecondsRemaining(secondsRemaining - 1);\n  }, ONE_SECOND);\n\n  if (!pool || secs === undefined) {\n    return null;\n  }\n\n  const currentDate = new Date(Date.now());\n  const futureDate = addSeconds(currentDate, secondsRemaining);\n  const {\n    days,\n    hours,\n    minutes,\n    seconds\n  } = subtractDates(futureDate, currentDate);\n  let msg;\n\n  if (pool === null || pool === void 0 ? void 0 : pool.isRngRequested) {\n    return __jsx(React.Fragment, null, __jsx(\"p\", {\n      className: classnames(textSize, 'font-bold', {\n        'text-flashy': flashy,\n        'text-xs xs:text-sm sm:text-xl lg:text-2xl': !textSize,\n        'text-right': !textAlign\n      })\n    }, t('prizeIsBeingAwarded')));\n  }\n\n  const daysArray = ('' + days).split('');\n  const hoursArray = ('' + hours).split('');\n  const minutesArray = ('' + minutes).split('');\n  const secondsArray = ('' + seconds).split(''); // 3600 seconds = 1 hour\n\n  const textColor = secondsRemaining >= 3600 ? 'green' : secondsRemaining >= 600 ? 'orange' : 'red';\n\n  const LeftSideJsx = ({\n    digit\n  }) => {\n    return __jsx(\"span\", {\n      className: `bg-tertiary text-${textColor} font-bold border border-secondary rounded-tl-sm rounded-bl-sm`,\n      style: {\n        padding: '1px 4px',\n        borderWidth: '0.015rem'\n      }\n    }, digit);\n  };\n\n  const RightSideJsx = ({\n    digit\n  }) => {\n    return __jsx(\"span\", {\n      className: `bg-tertiary text-${textColor} font-bold border border-secondary rounded-tr-sm rounded-br-sm border-l-0`,\n      style: {\n        padding: '1px 4px',\n        borderWidth: '0.015rem'\n      }\n    }, digit);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classnames(textSize, 'flex text-center', {\n      'justify-center': center,\n      'text-xxxs sm:text-xl': !textSize\n    })\n  }, __jsx(\"div\", {\n    className: \"flex flex-col sm:mr-2\",\n    style: {\n      // minWidth: 50\n      paddingLeft: 2,\n      paddingRight: 2\n    }\n  }, __jsx(\"div\", {\n    className: \"flex\"\n  }, __jsx(LeftSideJsx, {\n    digit: daysArray.length < 2 ? 0 : daysArray[0]\n  }), __jsx(RightSideJsx, {\n    digit: daysArray.length > 1 ? daysArray[1] : daysArray[0]\n  })), __jsx(\"div\", {\n    className: \"text-caption\"\n  }, t('countdownDayShort'))), __jsx(\"div\", {\n    className: \"flex flex-col\",\n    style: {\n      // minWidth: 50\n      paddingLeft: 2,\n      paddingRight: 2\n    }\n  }, __jsx(\"div\", {\n    className: \"flex\"\n  }, __jsx(LeftSideJsx, {\n    digit: hoursArray.length < 2 ? 0 : hoursArray[0]\n  }), __jsx(RightSideJsx, {\n    digit: hoursArray.length > 1 ? hoursArray[1] : hoursArray[0]\n  })), __jsx(\"div\", {\n    className: \"text-caption\"\n  }, t('countdownHourShort'))), __jsx(\"div\", {\n    className: \"px-0 sm:px-1\"\n  }, \":\"), __jsx(\"div\", {\n    className: \"flex flex-col\",\n    style: {\n      // minWidth: 50\n      paddingLeft: 1,\n      paddingRight: 2\n    }\n  }, __jsx(\"div\", {\n    className: \"flex\"\n  }, __jsx(LeftSideJsx, {\n    digit: minutesArray.length < 2 ? 0 : minutesArray[0]\n  }), __jsx(RightSideJsx, {\n    digit: minutesArray.length > 1 ? minutesArray[1] : minutesArray[0]\n  })), __jsx(\"div\", {\n    className: \"text-caption\"\n  }, t('countdownMinuteShort'))), __jsx(\"div\", {\n    className: \"px-0 sm:px-1\"\n  }, \":\"), __jsx(\"div\", {\n    className: \"flex flex-col\",\n    style: {\n      // minWidth: 50\n      paddingLeft: 1,\n      paddingRight: 2\n    }\n  }, __jsx(\"div\", {\n    className: \"flex\"\n  }, __jsx(LeftSideJsx, {\n    digit: secondsArray.length < 2 ? 0 : secondsArray[0]\n  }), __jsx(RightSideJsx, {\n    digit: secondsArray.length > 1 ? secondsArray[1] : secondsArray[0]\n  })), __jsx(\"div\", {\n    className: \"text-caption\"\n  }, t('countdownSecondShort'))), msg));\n};","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/NewPrizeCountdown.jsx"],"names":["React","useEffect","useState","classnames","addSeconds","useInterval","useTranslation","subtractDates","ONE_SECOND","NewPrizeCountdown","props","t","pool","center","textAlign","textSize","flashy","secondsRemaining","setSecondsRemaining","secs","prizePeriodRemainingSeconds","parseInt","toString","undefined","currentDate","Date","now","futureDate","days","hours","minutes","seconds","msg","isRngRequested","daysArray","split","hoursArray","minutesArray","secondsArray","textColor","LeftSideJsx","digit","padding","borderWidth","RightSideJsx","paddingLeft","paddingRight","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport classnames from 'classnames'\nimport addSeconds from 'date-fns/addSeconds'\nimport { useInterval } from 'beautiful-react-hooks'\n\nimport { useTranslation } from 'lib/../i18n'\n// import { formatFutureDateInSeconds } from 'lib/utils/formatFutureDateInSeconds'\nimport { subtractDates } from 'lib/utils/subtractDates'\n\nconst ONE_SECOND = 1000\n\nexport const NewPrizeCountdown = (\n  props,\n) => {\n  const { t } = useTranslation()\n  const { pool, center, textAlign, textSize } = props\n  let flashy = props.flashy === false ? false : true\n\n  const [secondsRemaining, setSecondsRemaining] = useState(null)\n\n  // console.log('a', pool?.prizePeriodRemainingSeconds?.toString())\n\n  // const secs = 167868\n  const secs = pool?.prizePeriodRemainingSeconds &&\n    parseInt(pool?.prizePeriodRemainingSeconds.toString(), 10)\n\n  useEffect(() => {\n    setSecondsRemaining(secs)\n  }, [secs])\n\n  useInterval(() => {\n    setSecondsRemaining(secondsRemaining - 1)\n  }, ONE_SECOND)\n\n  if (!pool || secs === undefined) {\n    return null\n  }\n\n  const currentDate = new Date(Date.now())\n  const futureDate = addSeconds(currentDate, secondsRemaining)\n  const { days, hours, minutes, seconds } = subtractDates(futureDate, currentDate)\n\n  let msg\n  if (pool?.isRngRequested) {\n    return <>\n      <p\n        className={classnames(\n          textSize,\n          'font-bold',\n          {\n            'text-flashy': flashy,\n            'text-xs xs:text-sm sm:text-xl lg:text-2xl': !textSize,\n            'text-right': !textAlign\n          }\n        )}\n      >\n        {t('prizeIsBeingAwarded')}\n      </p>\n    </>\n  }\n\n  const daysArray = ('' + days).split('')\n  const hoursArray = ('' + hours).split('')\n  const minutesArray = ('' + minutes).split('')\n  const secondsArray = ('' + seconds).split('')\n\n  // 3600 seconds = 1 hour\n  const textColor = secondsRemaining >= 3600 ?\n    'green' :\n    secondsRemaining >= 600 ?\n      'orange' :\n      'red'\n\n  const LeftSideJsx = ({ digit }) => {\n    return <span\n      className={`bg-tertiary text-${textColor} font-bold border border-secondary rounded-tl-sm rounded-bl-sm`}\n      style={{\n        padding: '1px 4px',\n        borderWidth: '0.015rem'\n      }}\n    >\n      {digit}\n    </span>\n  }\n\n  const RightSideJsx = ({ digit }) => {\n    return <span\n      className={`bg-tertiary text-${textColor} font-bold border border-secondary rounded-tr-sm rounded-br-sm border-l-0`}\n      style={{\n        padding: '1px 4px',\n        borderWidth: '0.015rem'\n      }}\n    >\n      {digit}\n    </span>\n  }\n  \n  return <>\n    <div\n      className={classnames(\n        textSize,\n        'flex text-center',\n        {\n          'justify-center': center,\n          'text-xxxs sm:text-xl': !textSize,\n        }\n      )}\n    >\n      <div\n        className='flex flex-col sm:mr-2'\n        style={{\n          // minWidth: 50\n          paddingLeft: 2,\n          paddingRight: 2,\n        }}\n      >\n        <div className='flex'>\n          <LeftSideJsx\n            digit={daysArray.length < 2 ? 0 : daysArray[0]}\n          />\n          <RightSideJsx\n            digit={daysArray.length > 1 ? daysArray[1] : daysArray[0]}\n          />\n        </div>\n        <div className='text-caption'>\n          {t('countdownDayShort')}\n        </div>\n      </div>\n      <div\n        className='flex flex-col'\n        style={{\n          // minWidth: 50\n          paddingLeft: 2,\n          paddingRight: 2,\n        }}\n      >\n        <div className='flex'>\n          <LeftSideJsx\n            digit={hoursArray.length < 2 ? 0 : hoursArray[0]}\n          />\n          <RightSideJsx\n            digit={hoursArray.length > 1 ? hoursArray[1] : hoursArray[0]}\n          />\n        </div>\n        <div className='text-caption'>\n          {t('countdownHourShort')}\n        </div>\n      </div>\n      <div\n        className='px-0 sm:px-1'\n      >\n        :\n      </div>\n      <div\n        className='flex flex-col'\n        style={{\n          // minWidth: 50\n          paddingLeft: 1,\n          paddingRight: 2,\n        }}\n      >\n        <div className='flex'>\n          <LeftSideJsx\n            digit={minutesArray.length < 2 ? 0 : minutesArray[0]}\n          />\n          <RightSideJsx\n            digit={minutesArray.length > 1 ? minutesArray[1] : minutesArray[0]}\n          />\n        </div>\n        <div className='text-caption'>\n          {t('countdownMinuteShort')}\n        </div>\n      </div>\n      <div\n        className='px-0 sm:px-1'\n      >\n        :\n      </div>\n      <div\n        className='flex flex-col'\n        style={{\n          // minWidth: 50\n          paddingLeft: 1,\n          paddingRight: 2,\n        }}\n      >\n        <div className='flex'>\n          <LeftSideJsx\n            digit={secondsArray.length < 2 ? 0 : secondsArray[0]}\n          />\n          <RightSideJsx\n            digit={secondsArray.length > 1 ? secondsArray[1] : secondsArray[0]}\n          />\n        </div>\n        <div className='text-caption'>\n          {t('countdownSecondShort')}\n        </div>\n      </div>\n      {msg}\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}