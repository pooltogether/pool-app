{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Trans, useTranslation } from 'lib/../i18n';\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider';\nimport { ConfettiContext } from 'lib/components/contextProviders/ConfettiContextProvider';\nimport { ButtonLink } from 'lib/components/ButtonLink';\nimport { PaneTitle } from 'lib/components/PaneTitle';\nimport { PoolNumber } from 'lib/components/PoolNumber';\nimport { NewPrizeCountdownInWords } from 'lib/components/NewPrizeCountdownInWords';\nimport { numberWithCommas } from 'lib/utils/numberWithCommas';\nexport function OrderComplete(props) {\n  const [t] = useTranslation();\n  const router = useRouter();\n  const quantity = router.query.quantity;\n  let prevBalance = router.query.prevBalance;\n  const {\n    confetti\n  } = useContext(ConfettiContext);\n  const {\n    pool\n  } = useContext(PoolDataContext);\n  const decimals = pool === null || pool === void 0 ? void 0 : pool.underlyingCollateralDecimals;\n\n  if (prevBalance) {\n    prevBalance = ethers.utils.formatUnits(prevBalance, decimals || 18);\n  }\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.confettiContext = confetti;\n      confetti.start(setTimeout, setInterval);\n    }, 300);\n  }, []); // prevents flashing when unmounting\n\n  if (!quantity) {\n    return null;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(PaneTitle, {\n    small: true\n  }, t('depositComplete')), __jsx(\"div\", {\n    className: \"-mt-2\"\n  }, __jsx(PaneTitle, null, __jsx(Trans, {\n    i18nKey: \"youGotAmountTickets\",\n    defaults: \"You got <number>{{amount}}</number> tickets!\",\n    components: {\n      number: __jsx(PoolNumber, null)\n    },\n    values: {\n      amount: quantity\n    }\n  }))), __jsx(\"div\", {\n    className: \"mb-6 text-highlight-3 text-sm\"\n  }, __jsx(\"div\", {\n    className: \"mb-6\"\n  }, t('youNowHaveAmountTicketsInTheTickerPool', {\n    amount: numberWithCommas(Number(prevBalance) + Number(quantity), {\n      precision: 4\n    }),\n    ticker: pool === null || pool === void 0 ? void 0 : pool.underlyingCollateralSymbol\n  })), __jsx(\"div\", {\n    className: \"mb-6\"\n  }, t('youWillBeEligibleToWinPrizeEveryFrequency', {\n    frequency: (pool === null || pool === void 0 ? void 0 : pool.frequency) === 'Weekly' ? t('week') : t('day')\n  })), __jsx(\"div\", {\n    className: \"mb-3\"\n  }, t('theNextPrizeWillBeAwardedIn'), \" \", __jsx(\"span\", {\n    className: \"font-bold\"\n  }, __jsx(NewPrizeCountdownInWords, {\n    pool: pool\n  })))), __jsx(\"div\", null, __jsx(ButtonLink, {\n    href: \"/account\",\n    as: \"/account\",\n    textSize: \"lg\"\n  }, t('viewYourAccount'))));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/OrderComplete.jsx"],"names":["React","useContext","useEffect","useRouter","Trans","useTranslation","PoolDataContext","ConfettiContext","ButtonLink","PaneTitle","PoolNumber","NewPrizeCountdownInWords","numberWithCommas","OrderComplete","props","t","router","quantity","query","prevBalance","confetti","pool","decimals","underlyingCollateralDecimals","ethers","utils","formatUnits","setTimeout","window","confettiContext","start","setInterval","number","amount","Number","precision","ticker","underlyingCollateralSymbol","frequency"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,aAAtC;AACA,SAASC,eAAT,QAAgC,yDAAhC;AACA,SAASC,eAAT,QAAgC,yDAAhC;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,SAAT,QAA0B,0BAA1B;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,wBAAT,QAAyC,yCAAzC;AACA,SAASC,gBAAT,QAAiC,4BAAjC;AAEA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AACnC,QAAM,CAACC,CAAD,IAAMV,cAAc,EAA1B;AAEA,QAAMW,MAAM,GAAGb,SAAS,EAAxB;AACA,QAAMc,QAAQ,GAAGD,MAAM,CAACE,KAAP,CAAaD,QAA9B;AACA,MAAIE,WAAW,GAAGH,MAAM,CAACE,KAAP,CAAaC,WAA/B;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAAenB,UAAU,CAACM,eAAD,CAA/B;AAEA,QAAM;AAAEc,IAAAA;AAAF,MAAWpB,UAAU,CAACK,eAAD,CAA3B;AAEA,QAAMgB,QAAQ,GAAGD,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEE,4BAAvB;;AACA,MAAIJ,WAAJ,EAAiB;AACfA,IAAAA,WAAW,GAAGK,MAAM,CAACC,KAAP,CAAaC,WAAb,CACZP,WADY,EAEZG,QAAQ,IAAI,EAFA,CAAd;AAID;;AAEDpB,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,UAAU,CAAC,MAAM;AACfC,MAAAA,MAAM,CAACC,eAAP,GAAyBT,QAAzB;AACAA,MAAAA,QAAQ,CAACU,KAAT,CAAeH,UAAf,EAA2BI,WAA3B;AACD,KAHS,EAGP,GAHO,CAAV;AAID,GALQ,EAKN,EALM,CAAT,CAnBmC,CA0BnC;;AACA,MAAI,CAACd,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AAED,SAAO,4BACL,MAAC,SAAD;AAAW,IAAA,KAAK;AAAhB,KACGF,CAAC,CAAC,iBAAD,CADJ,CADK,EAKL;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,SAAD,QACE,MAAC,KAAD;AACE,IAAA,OAAO,EAAC,qBADV;AAEE,IAAA,QAAQ,EAAC,8CAFX;AAGE,IAAA,UAAU,EAAE;AACViB,MAAAA,MAAM,EAAE,MAAC,UAAD;AADE,KAHd;AAME,IAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEhB;AADF;AANV,IADF,CADF,CALK,EAoBL;AACE,IAAA,SAAS,EAAC;AADZ,KAGE;AACE,IAAA,SAAS,EAAC;AADZ,KAGGF,CAAC,CAAC,wCAAD,EAA2C;AAC3CkB,IAAAA,MAAM,EAAErB,gBAAgB,CAACsB,MAAM,CAACf,WAAD,CAAN,GAAsBe,MAAM,CAACjB,QAAD,CAA7B,EAAyC;AAAEkB,MAAAA,SAAS,EAAE;AAAb,KAAzC,CADmB;AAE3CC,IAAAA,MAAM,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgB;AAF6B,GAA3C,CAHJ,CAHF,EAWE;AACE,IAAA,SAAS,EAAC;AADZ,KAGGtB,CAAC,CAAC,2CAAD,EAA8C;AAC9CuB,IAAAA,SAAS,EAAE,CAAAjB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEiB,SAAN,MAAoB,QAApB,GAA+BvB,CAAC,CAAC,MAAD,CAAhC,GAA2CA,CAAC,CAAC,KAAD;AADT,GAA9C,CAHJ,CAXF,EAkBE;AACE,IAAA,SAAS,EAAC;AADZ,KAGGA,CAAC,CAAC,6BAAD,CAHJ,OAGqC;AAAM,IAAA,SAAS,EAAC;AAAhB,KAA4B,MAAC,wBAAD;AAC7D,IAAA,IAAI,EAAEM;AADuD,IAA5B,CAHrC,CAlBF,CApBK,EA+CL,mBACE,MAAC,UAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,QAAQ,EAAC;AAHX,KAKGN,CAAC,CAAC,iBAAD,CALJ,CADF,CA/CK,CAAP;AAyDD","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { useRouter } from 'next/router'\n\nimport { Trans, useTranslation } from 'lib/../i18n'\nimport { PoolDataContext } from 'lib/components/contextProviders/PoolDataContextProvider'\nimport { ConfettiContext } from 'lib/components/contextProviders/ConfettiContextProvider'\nimport { ButtonLink } from 'lib/components/ButtonLink'\nimport { PaneTitle } from 'lib/components/PaneTitle'\nimport { PoolNumber } from 'lib/components/PoolNumber'\nimport { NewPrizeCountdownInWords } from 'lib/components/NewPrizeCountdownInWords'\nimport { numberWithCommas } from 'lib/utils/numberWithCommas'\n\nexport function OrderComplete(props) {\n  const [t] = useTranslation()\n\n  const router = useRouter()\n  const quantity = router.query.quantity\n  let prevBalance = router.query.prevBalance\n\n  const { confetti } = useContext(ConfettiContext)\n\n  const { pool } = useContext(PoolDataContext)\n\n  const decimals = pool?.underlyingCollateralDecimals\n  if (prevBalance) {\n    prevBalance = ethers.utils.formatUnits(\n      prevBalance,\n      decimals || 18\n    )\n  }\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.confettiContext = confetti\n      confetti.start(setTimeout, setInterval)\n    }, 300)\n  }, [])\n\n  // prevents flashing when unmounting\n  if (!quantity) {\n    return null\n  }\n\n  return <>\n    <PaneTitle small>\n      {t('depositComplete')}\n    </PaneTitle>\n\n    <div className='-mt-2'>\n      <PaneTitle>\n        <Trans\n          i18nKey='youGotAmountTickets'\n          defaults='You got <number>{{amount}}</number> tickets!'\n          components={{\n            number: <PoolNumber />,\n          }}\n          values={{\n            amount: quantity,\n          }}\n        />\n      </PaneTitle>\n    </div>\n\n    <div\n      className='mb-6 text-highlight-3 text-sm'\n    >\n      <div\n        className='mb-6'\n      >\n        {t('youNowHaveAmountTicketsInTheTickerPool', {\n          amount: numberWithCommas(Number(prevBalance) + Number(quantity), { precision: 4 }),\n          ticker: pool?.underlyingCollateralSymbol\n        })}\n      </div>\n      <div\n        className='mb-6'\n      >\n        {t('youWillBeEligibleToWinPrizeEveryFrequency', {\n          frequency: pool?.frequency === 'Weekly' ? t('week') : t('day')\n        })}\n      </div>\n      <div\n        className='mb-3'\n      >\n        {t('theNextPrizeWillBeAwardedIn')} <span className='font-bold'><NewPrizeCountdownInWords\n          pool={pool}\n        /></span>\n      </div>\n    </div>\n\n    <div>\n      <ButtonLink\n        href='/account'\n        as='/account'\n        textSize='lg'\n      >\n        {t('viewYourAccount')}\n      </ButtonLink>\n    </div>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}