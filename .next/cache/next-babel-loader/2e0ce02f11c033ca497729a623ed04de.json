{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport classnames from 'classnames';\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon';\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider';\n\nvar _require = require('3box/lib/api'),\n    getProfile = _require.getProfile;\n\nvar isValidImage = function isValidImage(image) {\n  if (image && image[0] && image[0].contentUrl) {\n    return true;\n  }\n\n  return false;\n};\n\nexport function ProfileAvatar(props) {\n  _s();\n\n  var xl = props.xl;\n\n  var _useState = useState(),\n      profile = _useState[0],\n      setProfile = _useState[1];\n\n  var _useContext = useContext(AuthControllerContext),\n      usersAddress = _useContext.usersAddress;\n\n  var diameter = xl ? 40 : 20;\n  useEffect(function () {\n    var get3BoxProfile = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var boxProfile;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getProfile(usersAddress);\n\n              case 2:\n                boxProfile = _context.sent;\n                setProfile(boxProfile);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function get3BoxProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (usersAddress) {\n      get3BoxProfile();\n    }\n  }, [usersAddress]);\n\n  if (!usersAddress) {\n    return null;\n  }\n\n  var image = profile && isValidImage(profile.image) ? __jsx(\"img\", {\n    alt: \"profile avatar\",\n    src: \"https://ipfs.infura.io/ipfs/\".concat(profile.image[0].contentUrl['/']),\n    className: classnames('profile-img relative inline-block rounded-full mr-1', {\n      'w-6 h-6': !xl,\n      'w-12 h-12': xl\n    })\n  }) : __jsx(\"div\", {\n    className: \"profile-img profile-img--jazzicon relative inline-block ml-2 xs:ml-0 mr-2\"\n  }, __jsx(Jazzicon, {\n    diameter: diameter,\n    seed: jsNumberForAddress(usersAddress)\n  }));\n  return image;\n}\n\n_s(ProfileAvatar, \"+mBp9B6vOjAPK6cYl1SRbC9maUc=\");\n\n_c = ProfileAvatar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileAvatar\");","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/ProfileAvatar.jsx"],"names":["React","useContext","useState","useEffect","classnames","Jazzicon","jsNumberForAddress","AuthControllerContext","require","getProfile","isValidImage","image","contentUrl","ProfileAvatar","props","xl","profile","setProfile","usersAddress","diameter","get3BoxProfile","boxProfile"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,QAAP,IAAmBC,kBAAnB,QAA6C,gBAA7C;AAEA,SAASC,qBAAT,QAAsC,+DAAtC;;eAEuBC,OAAO,CAAC,cAAD,C;IAAtBC,U,YAAAA,U;;AAER,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,MAAIA,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAd,IAAqBA,KAAK,CAAC,CAAD,CAAL,CAASC,UAAlC,EAA8C;AAC5C,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CAND;;AAQA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAAA,MAC3BC,EAD2B,GACpBD,KADoB,CAC3BC,EAD2B;;AAAA,kBAGLb,QAAQ,EAHH;AAAA,MAG5Bc,OAH4B;AAAA,MAGnBC,UAHmB;;AAAA,oBAKVhB,UAAU,CAACM,qBAAD,CALA;AAAA,MAK3BW,YAL2B,eAK3BA,YAL2B;;AAOnC,MAAMC,QAAQ,GAAGJ,EAAE,GAAG,EAAH,GAAQ,EAA3B;AAEAZ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMiB,cAAc;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACIX,UAAU,CAACS,YAAD,CADd;;AAAA;AACfG,gBAAAA,UADe;AAErBJ,gBAAAA,UAAU,CAACI,UAAD,CAAV;;AAFqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAdD,cAAc;AAAA;AAAA;AAAA,OAApB;;AAKA,QAAIF,YAAJ,EAAkB;AAChBE,MAAAA,cAAc;AACf;AACF,GATQ,EASN,CAACF,YAAD,CATM,CAAT;;AAYA,MAAI,CAACA,YAAL,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,MAAMP,KAAK,GAAIK,OAAO,IAAIN,YAAY,CAACM,OAAO,CAACL,KAAT,CAAxB,GACZ;AACE,IAAA,GAAG,EAAC,gBADN;AAEE,IAAA,GAAG,wCAAiCK,OAAO,CAACL,KAAR,CAAc,CAAd,EAAiBC,UAAjB,CAA4B,GAA5B,CAAjC,CAFL;AAGE,IAAA,SAAS,EAAER,UAAU,CACnB,qDADmB,EAEnB;AACE,iBAAW,CAACW,EADd;AAEE,mBAAaA;AAFf,KAFmB;AAHvB,IADY,GAYZ;AACE,IAAA,SAAS,EAAC;AADZ,KAGE,MAAC,QAAD;AACE,IAAA,QAAQ,EAAEI,QADZ;AAEE,IAAA,IAAI,EAAEb,kBAAkB,CAACY,YAAD;AAF1B,IAHF,CAZF;AAqBA,SAAOP,KAAP;AACD;;GA/CeE,a;;KAAAA,a","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport classnames from 'classnames'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\n\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider'\n\nconst { getProfile } = require('3box/lib/api')\n\nconst isValidImage = (image) => {\n  if (image && image[0] && image[0].contentUrl) {\n    return true\n  }\n\n  return false\n}\n\nexport function ProfileAvatar(props) {\n  const { xl } = props\n\n  const [profile, setProfile] = useState()\n\n  const { usersAddress } = useContext(AuthControllerContext)\n\n  const diameter = xl ? 40 : 20\n\n  useEffect(() => {\n    const get3BoxProfile = async () => {\n      const boxProfile = await getProfile(usersAddress)\n      setProfile(boxProfile)\n    }\n\n    if (usersAddress) {\n      get3BoxProfile()\n    }\n  }, [usersAddress])\n\n\n  if (!usersAddress) {\n    return null\n  }\n\n  const image = (profile && isValidImage(profile.image)) ?\n    <img\n      alt='profile avatar'\n      src={`https://ipfs.infura.io/ipfs/${profile.image[0].contentUrl['/']}`}\n      className={classnames(\n        'profile-img relative inline-block rounded-full mr-1',\n        {\n          'w-6 h-6': !xl,\n          'w-12 h-12': xl,\n        }\n      )}\n    /> :\n    <div\n      className='profile-img profile-img--jazzicon relative inline-block ml-2 xs:ml-0 mr-2'\n    >\n      <Jazzicon\n        diameter={diameter}\n        seed={jsNumberForAddress(usersAddress)}\n      />\n    </div>\n\n  return image\n}\n"]},"metadata":{},"sourceType":"module"}