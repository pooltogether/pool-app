{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useState } from 'react';\nimport { SUPPORTED_CHAIN_IDS } from 'lib/constants';\nimport { useTranslation } from 'lib/../i18n';\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider';\nimport { Modal } from 'lib/components/Modal';\nimport { chainIdToNetworkName } from 'lib/utils/chainIdToNetworkName';\nimport { networkBgColorClassname } from 'lib/utils/networkColorClassnames';\nimport { networkNameToChainId } from 'lib/utils/networkNameToChainId';\n\nconst onlyUnique = (value, index, self) => {\n  return self.indexOf(value) === index;\n};\n\nexport function WrongNetworkModal(props) {\n  const {\n    t\n  } = useTranslation();\n  const {\n    0: bypassed,\n    1: setBypassed\n  } = useState(false);\n  const {\n    networkName,\n    supportedNetwork\n  } = useContext(AuthControllerContext);\n  let supportedNetworkNames = SUPPORTED_CHAIN_IDS.map(_chainId => chainIdToNetworkName(_chainId));\n  supportedNetworkNames = supportedNetworkNames.filter(onlyUnique).filter(name => name !== 'localhost');\n\n  const handleClose = e => {\n    e.preventDefault();\n    setBypassed(true);\n  };\n\n  if (supportedNetwork) {\n    return null;\n  }\n\n  return __jsx(React.Fragment, null, bypassed && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"r-0 l-0 fixed w-10/12 sm:w-1/4 bg-red px-4 py-2 font-bold mx-auto text-center rounded-lg z-50 text-white\",\n    style: {\n      bottom: '10vh'\n    }\n  }, t('unsupportedNetwork'), \" \", networkName)), __jsx(Modal, {\n    handleClose: handleClose,\n    visible: !supportedNetwork && !bypassed,\n    header: t('ethereumNetworkMismatch')\n  }, t('yourEthereumNetworkIsUnsupported'), \" \", __jsx(\"div\", {\n    className: \"inline-flex items-start justify-start font-bold text-white text-center mt-2\"\n  }, supportedNetworkNames.map(name => {\n    return __jsx(\"div\", {\n      key: `network-${name}`,\n      className: `inline-block bg-${networkBgColorClassname(networkNameToChainId(name))} px-2 py-1 w-24 rounded-full mr-2 mt-2 mr-2`\n    }, name);\n  }))));\n}","map":{"version":3,"sources":["/Users/chuckbergeron/Git/crypto/pool-together/pool-app/lib/components/WrongNetworkModal.jsx"],"names":["React","useContext","useState","SUPPORTED_CHAIN_IDS","useTranslation","AuthControllerContext","Modal","chainIdToNetworkName","networkBgColorClassname","networkNameToChainId","onlyUnique","value","index","self","indexOf","WrongNetworkModal","props","t","bypassed","setBypassed","networkName","supportedNetwork","supportedNetworkNames","map","_chainId","filter","name","handleClose","e","preventDefault","bottom"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,SACEC,mBADF,QAEO,eAFP;AAGA,SAASC,cAAT,QAA+B,aAA/B;AACA,SAASC,qBAAT,QAAsC,+DAAtC;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,SAASC,oBAAT,QAAqC,gCAArC;AACA,SAASC,uBAAT,QAAwC,kCAAxC;AACA,SAASC,oBAAT,QAAqC,gCAArC;;AAEA,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,KAAR,EAAeC,IAAf,KAAwB;AACzC,SAAOA,IAAI,CAACC,OAAL,CAAaH,KAAb,MAAwBC,KAA/B;AACD,CAFD;;AAIA,OAAO,SAASG,iBAAT,CAA2BC,KAA3B,EAAkC;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAQb,cAAc,EAA5B;AAEA,QAAM;AAAA,OAACc,QAAD;AAAA,OAAWC;AAAX,MAA0BjB,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM;AAAEkB,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAoCpB,UAAU,CAACI,qBAAD,CAApD;AAEA,MAAIiB,qBAAqB,GAAGnB,mBAAmB,CAACoB,GAApB,CAAwBC,QAAQ,IAC1DjB,oBAAoB,CAACiB,QAAD,CADM,CAA5B;AAGAF,EAAAA,qBAAqB,GAAGA,qBAAqB,CAACG,MAAtB,CAA6Bf,UAA7B,EACrBe,MADqB,CACdC,IAAI,IAAIA,IAAI,KAAK,WADH,CAAxB;;AAIA,QAAMC,WAAW,GAAIC,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AAEAV,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAJD;;AAMA,MAAIE,gBAAJ,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,SAAO,4BACJH,QAAQ,IAAI,4BACX;AACE,IAAA,SAAS,EAAC,0GADZ;AAEE,IAAA,KAAK,EAAE;AACLY,MAAAA,MAAM,EAAE;AADH;AAFT,KAMGb,CAAC,CAAC,oBAAD,CANJ,OAM6BG,WAN7B,CADW,CADR,EAYL,MAAC,KAAD;AACE,IAAA,WAAW,EAAEO,WADf;AAEE,IAAA,OAAO,EAAE,CAACN,gBAAD,IAAqB,CAACH,QAFjC;AAGE,IAAA,MAAM,EAAED,CAAC,CAAC,yBAAD;AAHX,KAKGA,CAAC,CAAC,kCAAD,CALJ,OAK0C;AACtC,IAAA,SAAS,EAAC;AAD4B,KAGrCK,qBAAqB,CAACC,GAAtB,CAA0BG,IAAI,IAAI;AACjC,WAAO;AACL,MAAA,GAAG,EAAG,WAAUA,IAAK,EADhB;AAEL,MAAA,SAAS,EAAG,mBAAkBlB,uBAAuB,CACnDC,oBAAoB,CAACiB,IAAD,CAD+B,CAEnD;AAJG,OAMJA,IANI,CAAP;AAQD,GATA,CAHqC,CAL1C,CAZK,CAAP;AAiCD","sourcesContent":["import React, { useContext, useState } from 'react'\n\nimport {\n  SUPPORTED_CHAIN_IDS,\n} from 'lib/constants'\nimport { useTranslation } from 'lib/../i18n'\nimport { AuthControllerContext } from 'lib/components/contextProviders/AuthControllerContextProvider'\nimport { Modal } from 'lib/components/Modal'\nimport { chainIdToNetworkName } from 'lib/utils/chainIdToNetworkName'\nimport { networkBgColorClassname } from 'lib/utils/networkColorClassnames'\nimport { networkNameToChainId } from 'lib/utils/networkNameToChainId'\n\nconst onlyUnique = (value, index, self) => {\n  return self.indexOf(value) === index\n}\n\nexport function WrongNetworkModal(props) {\n  const { t } = useTranslation()\n\n  const [bypassed, setBypassed] = useState(false)\n\n  const { networkName, supportedNetwork } = useContext(AuthControllerContext)\n\n  let supportedNetworkNames = SUPPORTED_CHAIN_IDS.map(_chainId => \n    chainIdToNetworkName(_chainId)\n  )\n  supportedNetworkNames = supportedNetworkNames.filter(onlyUnique)\n    .filter(name => name !== 'localhost')\n\n\n  const handleClose = (e) => {\n    e.preventDefault()\n\n    setBypassed(true)\n  }\n\n  if (supportedNetwork) {\n    return null\n  }\n  \n  return <>\n    {bypassed && <>\n      <div\n        className='r-0 l-0 fixed w-10/12 sm:w-1/4 bg-red px-4 py-2 font-bold mx-auto text-center rounded-lg z-50 text-white'\n        style={{\n          bottom: '10vh'\n        }}\n      >\n        {t('unsupportedNetwork')} {networkName}\n      </div>\n    </>}\n\n    <Modal\n      handleClose={handleClose}\n      visible={!supportedNetwork && !bypassed}\n      header={t('ethereumNetworkMismatch')}\n    >\n      {t('yourEthereumNetworkIsUnsupported')} <div\n        className='inline-flex items-start justify-start font-bold text-white text-center mt-2'\n      >\n        {supportedNetworkNames.map(name => {\n          return <div\n            key={`network-${name}`}\n            className={`inline-block bg-${networkBgColorClassname(\n              networkNameToChainId(name)\n            )} px-2 py-1 w-24 rounded-full mr-2 mt-2 mr-2`}\n          >\n            {name}\n          </div>\n        })}\n      </div>\n    </Modal>\n  </>\n}\n"]},"metadata":{},"sourceType":"module"}